import{a as m,k as V,j as e}from"./@react-router-BOJM2k20.js";import{S as f,R as y,C as c,D as M,U as N}from"./index-BafWvN44.js";import{S as x}from"./index-BGD_4JXV.js";import{F as d}from"./index-DDk6ch2l.js";import{T as W}from"./index-QOKA2q-x.js";import{B as s}from"./index-BHxSUtD9.js";import{R as K}from"./EditOutlined-ILeNmOcc.js";import{D as q}from"./index-Dh480BEi.js";import{R as z}from"./DownOutlined-BOaeNGFx.js";import{R as A}from"./PlusOutlined-Dx_yv4bP.js";import{T as O}from"./index-Ckfbyvnp.js";import{R as j}from"./EyeOutlined-C2nNK8zw.js";import{R as k}from"./UploadOutlined-ymldMT98.js";import{I as L}from"./index-BpdQMdSc.js";import{M as G}from"./index-C_i7UN8L.js";import{R as H}from"./DownloadOutlined-B7YLRgp7.js";import{s as _}from"./index-Cskjed0c.js";import"./reactNode-Csz1gYGy.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./AntdIcon-DUdM8fG5.js";import"./Input-CgaMpdgX.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./context-BclqCKk2.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},p=new a.Error().stack;p&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[p]="7cdf5cac-d0f1-462e-8316-07ce67a1efb9",a._sentryDebugIdIdentifier="sentry-dbid-7cdf5cac-d0f1-462e-8316-07ce67a1efb9")}catch{}const{TextArea:J}=L,{Text:t}=W,De=({project:a,readOnly:p=!1})=>{const[i]=d.useForm(),[r,w]=m.useState("baseline-1"),[C,u]=m.useState(!1),[B,b]=m.useState(!1),[h,g]=m.useState(""),I={"baseline-1":{baseline_number:1,tahun_mulai:"2025",tahun_target:"2026",main_contractor:"PT Konstruksi Indonesia",capacity:"500",unit:"MW",produk:"Renewable Energy",lokasi_proyek:"Batam, Kepulauan Riau",success_criteria:"Project completion on time and within budget with 95% quality score",project_schedule_plan:"schedule_baseline_1.xlsx",project_cost_timeline:"cost_timeline_baseline_1.xlsx",reason_for_change:"Initial baseline version",latest_modified:"2025-01-01"},"baseline-2":{baseline_number:2,tahun_mulai:"2025",tahun_target:"2026",main_contractor:"PT Konstruksi Indonesia",capacity:"600",unit:"MW",produk:"Renewable Energy",lokasi_proyek:"Batam, Kepulauan Riau",success_criteria:"Project completion on time and within budget with 95% quality score and enhanced capacity",project_schedule_plan:"schedule_baseline_2.xlsx",project_cost_timeline:"cost_timeline_baseline_2.xlsx",reason_for_change:"Capacity increase due to market demand",latest_modified:"2025-01-15"},"baseline-3":{baseline_number:3,tahun_mulai:"",tahun_target:"",main_contractor:"",capacity:"",unit:"",produk:"",lokasi_proyek:"",success_criteria:"",project_schedule_plan:"",project_cost_timeline:"",reason_for_change:"",latest_modified:new Date().toISOString().split("T")[0]}},l=I[r];V.useEffect(()=>{i.setFieldsValue(l)},[r,i]);const P=n=>{w(n),u(!1)},v=()=>{u(!0)},T=async()=>{try{const n=await i.validateFields();console.log("Saving baseline data:",n),_.success("Baseline data saved successfully!"),u(!1)}catch(n){console.error("Validation failed:",n)}},U=()=>{i.setFieldsValue(l),u(!1)},$=()=>{w("baseline-3"),u(!0),i.setFieldsValue({...I["baseline-3"],baseline_number:3})},o=(n,S)=>{n==="Upload"?(g(S),b(!0)):_.info(`${n} ${S}`)},D=()=>{_.success(`File uploaded successfully for ${h}`),b(!1),g("")},R=()=>{b(!1),g("")},F=()=>{_.info(`Downloading template for ${h}`)},E=[{key:"baseline-1",label:"Baseline 1"},{key:"baseline-2",label:"Baseline 2"}];return e.jsx(x,{loading:!1,bodyStyle:{padding:0},bordered:!1,children:e.jsxs(f,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsx(x,{children:e.jsxs(y,{justify:"space-between",align:"middle",children:[e.jsx(c,{children:e.jsxs(t,{strong:!0,style:{fontSize:"16px"},children:["Current: ",r==="baseline-1"?"Baseline 1":r==="baseline-2"?"Baseline 2":"Baseline 3"]})}),e.jsx(c,{children:e.jsxs(f,{children:[!p&&r==="baseline-2"&&e.jsx(s,{icon:e.jsx(K,{}),onClick:v,disabled:C,children:"Edit"}),e.jsx(q,{menu:{items:E,onClick:({key:n})=>P(n)},trigger:["click"],children:e.jsxs(s,{children:["Select Baseline ",e.jsx(z,{})]})}),!p&&e.jsx(s,{type:"primary",icon:e.jsx(A,{}),onClick:$,children:"Add Baseline 3"})]})})]})}),C||r==="baseline-3"?e.jsx(x,{children:e.jsxs(d,{form:i,layout:"vertical",initialValues:l,children:[e.jsxs(y,{gutter:[24,16],children:[e.jsx(c,{xs:24,children:e.jsx(d.Item,{label:"Baseline Number",name:"baseline_number",rules:[{required:!0,message:"Please input baseline number!"}],children:e.jsx(O,{min:1,max:10,placeholder:"3",style:{width:"100%"}})})}),e.jsx(c,{xs:24,children:e.jsx(d.Item,{label:"Project Schedule Plan",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[e.jsx("div",{style:{flex:1,minWidth:"200px",padding:"8px 12px",border:"1px solid #d9d9d9",borderRadius:"6px",backgroundColor:"#fafafa",display:"flex",alignItems:"center"},children:l.project_schedule_plan?e.jsxs("a",{href:`/files/${l.project_schedule_plan}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline",display:"flex",alignItems:"center",gap:"6px"},onClick:n=>{n.preventDefault(),o("View/Download",l.project_schedule_plan)},children:[e.jsx(j,{}),l.project_schedule_plan]}):e.jsx("span",{style:{color:"#999"},children:"No file uploaded"})}),e.jsx(s,{icon:e.jsx(k,{}),onClick:()=>o("Upload","Project Schedule Plan"),style:{height:"40px"},children:"Upload"})]})})}),e.jsx(c,{xs:24,children:e.jsx(d.Item,{label:"Project Cost Timeline Plan",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[e.jsx("div",{style:{flex:1,minWidth:"200px",padding:"8px 12px",border:"1px solid #d9d9d9",borderRadius:"6px",backgroundColor:"#fafafa",display:"flex",alignItems:"center"},children:l.project_cost_timeline?e.jsxs("a",{href:`/files/${l.project_cost_timeline}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline",display:"flex",alignItems:"center",gap:"6px"},onClick:n=>{n.preventDefault(),o("View/Download",l.project_cost_timeline)},children:[e.jsx(j,{}),l.project_cost_timeline]}):e.jsx("span",{style:{color:"#999"},children:"No file uploaded"})}),e.jsx(s,{icon:e.jsx(k,{}),onClick:()=>o("Upload","Project Cost Timeline Plan"),style:{height:"40px"},children:"Upload"})]})})}),e.jsx(c,{xs:24,children:e.jsx(d.Item,{label:"Reason for Change",name:"reason_for_change",children:e.jsx(J,{rows:4,placeholder:"Enter reason for this baseline change"})})})]}),e.jsx(y,{justify:"end",style:{marginTop:"24px"},children:e.jsxs(f,{children:[e.jsx(s,{onClick:U,children:"Cancel"}),e.jsx(s,{type:"primary",onClick:T,children:"Save"})]})})]})}):e.jsx(x,{title:"Project Baseline Information",children:e.jsx(M,{bordered:!0,layout:"horizontal",labelStyle:{width:"25%"},contentStyle:{width:"25%"},column:2,items:[{key:"baseline_number",label:"Baseline Number",children:e.jsx(t,{strong:!0,children:l.baseline_number??"-"})},{key:"latest_modified",label:"Latest Modified",children:e.jsx(t,{strong:!0,children:l.latest_modified??"-"})},{key:"project_schedule_plan",label:"Project Schedule Plan",children:l.project_schedule_plan?e.jsxs("a",{href:`/files/${l.project_schedule_plan}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline",display:"flex",alignItems:"center",gap:"6px"},onClick:n=>{n.preventDefault(),o("View/Download",l.project_schedule_plan)},children:[e.jsx(j,{}),e.jsx(t,{strong:!0,children:l.project_schedule_plan})]}):e.jsx(t,{strong:!0,children:"-"})},{key:"project_cost_timeline",label:"Project Cost Timeline Plan",children:l.project_cost_timeline?e.jsxs("a",{href:`/files/${l.project_cost_timeline}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline",display:"flex",alignItems:"center",gap:"6px"},onClick:n=>{n.preventDefault(),o("View/Download",l.project_cost_timeline)},children:[e.jsx(j,{}),e.jsx(t,{strong:!0,children:l.project_cost_timeline})]}):e.jsx(t,{strong:!0,children:"-"})},{key:"reason_for_change",label:"Reason for Change",children:e.jsx(t,{strong:!0,children:l.reason_for_change??"-"}),span:2}]})}),e.jsx(G,{title:`Upload ${h}`,open:B,onOk:D,onCancel:R,footer:[e.jsx(s,{icon:e.jsx(H,{}),onClick:F,children:"Download Template"},"download-template"),e.jsx(s,{onClick:R,children:"Cancel"},"cancel"),e.jsx(s,{type:"primary",onClick:D,children:"Upload"},"upload")],children:e.jsxs(f,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(t,{children:["Upload file for ",h]}),e.jsxs(N.Dragger,{name:"file",multiple:!1,beforeUpload:()=>!1,onChange:n=>{console.log("File info:",n)},children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(k,{})}),e.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),e.jsx("p",{className:"ant-upload-hint",children:"Support for single file upload."})]})]})})]})})};export{De as default};
//# sourceMappingURL=ProjectBaselineContent-C-U2BYdl.js.map
