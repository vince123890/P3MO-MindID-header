{"version":3,"file":"page-C7umPqyb.js","sources":["../../src/app/(protected)/master-data/perusahaans/page.jsx"],"sourcesContent":["import { Button, Flex, message, Tag, Modal } from \"antd\";\nimport { DeleteOutlined, EditOutlined, EyeOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router\";\nimport { Page, DataTable } from \"admiral\";\nimport dayjs from \"dayjs\";\n\nimport { makeSource } from \"@/utils/data-table\";\nimport { useFilter } from \"@/app/_hooks/datatable/use-filter\";\nimport { urlParser } from \"@/utils/url-parser\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { formatDate } from \"@/utils/date-format\";\nimport { allPerusahaans } from \"./_data\";\n\nexport const Component = () => {\n  const { handleChange, filters } = useFilter();\n\n  const allPerusahaansData = useGetData(allPerusahaans);\n\n  const allPerusahaanColumns = [\n    {\n      dataIndex: \"nama_perusahaan\",\n      key: \"nama_perusahaan\",\n      title: \"Perusahaan\",\n      sorter: true,\n      render: (_, record) => (\n        <Link to={record.id}>\n          <u>{record.nama_perusahaan}</u>\n        </Link>\n      ),\n    },\n    {\n      dataIndex: \"email\",\n      title: \"Email\",\n      key: \"email\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"no_telepon\",\n      title: \"No Telepon\",\n      key: \"no_telepon\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"status\",\n      title: \"Status\",\n      key: \"status\",\n      sorter: true,\n      render: (_, record) => {\n        const color = record.status === \"Active\" ? \"green\" : \"red\";\n        return <Tag color={color} style={{ border: 'none' }}>{record.status}</Tag>;\n      },\n    },\n    {\n      dataIndex: \"Action\",\n      title: \"Action\",\n      key: \"Action\",\n      render: (_, record) => {\n        return (\n          <Flex>\n            <Link\n              to={urlParser(\"/master-data/perusahaans/:id/update\", {\n                id: record.id,\n              })}\n            >\n              <Button type=\"link\" icon={<EditOutlined />} />\n            </Link>\n            <Button\n              type=\"link\"\n              icon={<DeleteOutlined style={{ color: \"red\" }} />}\n              onClick={() => {\n                Modal.confirm({\n                  title: 'Confirm Delete',\n                  content: `Are you sure you want to delete ${record.nama_perusahaan}?`,\n                  okText: 'Delete',\n                  cancelText: 'Cancel',\n                  okType: 'danger',\n                  onOk() {\n                    message.success(\"Perusahaan successfully deleted\");\n                  },\n                });\n              }}\n            />\n          </Flex>\n        );\n      },\n    },\n  ];\n\n  const breadcrumbs = [\n    {\n      label: \"Master Data\",\n      path: \"/master-data\",\n    },\n    {\n      label: \"Perusahaan\",\n      path: \"/master-data/perusahaans\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Perusahaan\"\n      breadcrumbs={breadcrumbs}\n      topActions={\n        <Link to={\"/master-data/perusahaans/create\"}>\n          <Button type=\"primary\" icon={<PlusOutlined />}>Tambah Perusahaan</Button>\n        </Link>\n      }\n      noStyle\n    >\n      <DataTable\n        filterComponents={[\n          {\n            label: \"Status\",\n            name: \"status\",\n            type: \"Select\",\n            placeholder: \"Select Status\",\n            width: 140,\n            defaultValue: filters.status,\n            options: [\n              { label: \"Active\", value: \"Active\" },\n              { label: \"Inactive\", value: \"Inactive\" },\n            ],\n          },\n          {\n            label: \"Created Date\",\n            name: \"created_date\",\n            type: \"DateRangePicker\",\n            width: 230,\n            defaultValue:\n              typeof filters.created_date?.[0] === \"number\"\n                ? [dayjs(dayjs.unix(filters.created_date[0])), dayjs(dayjs.unix(filters.created_date[1]))]\n                : [undefined, undefined],\n            placeholder: [\"Start\", \"End\"],\n          },\n        ]}\n        onChange={handleChange}\n        rowKey=\"id\"\n        loading={allPerusahaansData.loading}\n        source={makeSource(allPerusahaansData.data)}\n        columns={allPerusahaanColumns}\n        search={filters.search}\n        showRowSelection={true}\n        batchActionMenus={[\n          {\n            key: \"delete\",\n            label: \"Delete\",\n            onClick: (values, cb) => {\n              Modal.confirm({\n                title: 'Confirm Delete',\n                content: `Are you sure you want to delete ${values.length} selected perusahaan?`,\n                okText: 'Delete',\n                cancelText: 'Cancel',\n                okType: 'danger',\n                onOk() {\n                  message.success(\"Selected perusahaan successfully deleted\");\n                  cb.reset();\n                },\n              });\n            },\n            danger: true,\n            icon: <DeleteOutlined />,\n          },\n        ]}\n      />\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Component","handleChange","filters","useFilter","allPerusahaansData","useGetData","allPerusahaans","allPerusahaanColumns","_","record","jsx","Link","color","Tag","Flex","urlParser","Button","EditOutlined","DeleteOutlined","Modal","message","breadcrumbs","Page","PlusOutlined","DataTable","_a","dayjs","makeSource","values","cb"],"mappings":"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"}