{"version":3,"file":"useClosable-q7p4GCca.js","sources":["../../node_modules/antd/es/_util/hooks/useClosable.js"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport { useLocale } from '../../locale';\nimport defaultLocale from '../../locale/en_US';\nimport extendsObject from '../extendsObject';\nexport function pickClosable(context) {\n  if (!context) {\n    return undefined;\n  }\n  const {\n    closable,\n    closeIcon\n  } = context;\n  return {\n    closable,\n    closeIcon\n  };\n}\n/** Convert `closable` and `closeIcon` to config object */\nfunction useClosableConfig(closableCollection) {\n  const {\n    closable,\n    closeIcon\n  } = closableCollection || {};\n  return React.useMemo(() => {\n    if (\n    // If `closable`, whatever rest be should be true\n    !closable && (closable === false || closeIcon === false || closeIcon === null)) {\n      return false;\n    }\n    if (closable === undefined && closeIcon === undefined) {\n      return null;\n    }\n    let closableConfig = {\n      closeIcon: typeof closeIcon !== 'boolean' && closeIcon !== null ? closeIcon : undefined\n    };\n    if (closable && typeof closable === 'object') {\n      closableConfig = Object.assign(Object.assign({}, closableConfig), closable);\n    }\n    return closableConfig;\n  }, [closable, closeIcon]);\n}\n/** Use same object to support `useMemo` optimization */\nconst EmptyFallbackCloseCollection = {};\nexport default function useClosable(propCloseCollection, contextCloseCollection, fallbackCloseCollection = EmptyFallbackCloseCollection) {\n  // Align the `props`, `context` `fallback` to config object first\n  const propCloseConfig = useClosableConfig(propCloseCollection);\n  const contextCloseConfig = useClosableConfig(contextCloseCollection);\n  const [contextLocale] = useLocale('global', defaultLocale.global);\n  const closeBtnIsDisabled = typeof propCloseConfig !== 'boolean' ? !!(propCloseConfig === null || propCloseConfig === void 0 ? void 0 : propCloseConfig.disabled) : false;\n  const mergedFallbackCloseCollection = React.useMemo(() => Object.assign({\n    closeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null)\n  }, fallbackCloseCollection), [fallbackCloseCollection]);\n  // Use fallback logic to fill the config\n  const mergedClosableConfig = React.useMemo(() => {\n    // ================ Props First ================\n    // Skip if prop is disabled\n    if (propCloseConfig === false) {\n      return false;\n    }\n    if (propCloseConfig) {\n      return extendsObject(mergedFallbackCloseCollection, contextCloseConfig, propCloseConfig);\n    }\n    // =============== Context Second ==============\n    // Skip if context is disabled\n    if (contextCloseConfig === false) {\n      return false;\n    }\n    if (contextCloseConfig) {\n      return extendsObject(mergedFallbackCloseCollection, contextCloseConfig);\n    }\n    // ============= Fallback Default ==============\n    return !mergedFallbackCloseCollection.closable ? false : mergedFallbackCloseCollection;\n  }, [propCloseConfig, contextCloseConfig, mergedFallbackCloseCollection]);\n  // Calculate the final closeIcon\n  return React.useMemo(() => {\n    var _a, _b;\n    if (mergedClosableConfig === false) {\n      return [false, null, closeBtnIsDisabled, {}];\n    }\n    const {\n      closeIconRender\n    } = mergedFallbackCloseCollection;\n    const {\n      closeIcon\n    } = mergedClosableConfig;\n    let mergedCloseIcon = closeIcon;\n    // Wrap the closeIcon with aria props\n    const ariaOrDataProps = pickAttrs(mergedClosableConfig, true);\n    if (mergedCloseIcon !== null && mergedCloseIcon !== undefined) {\n      // Wrap the closeIcon if needed\n      if (closeIconRender) {\n        mergedCloseIcon = closeIconRender(closeIcon);\n      }\n      mergedCloseIcon = /*#__PURE__*/React.isValidElement(mergedCloseIcon) ? (/*#__PURE__*/React.cloneElement(mergedCloseIcon, Object.assign(Object.assign(Object.assign({}, mergedCloseIcon.props), {\n        'aria-label': (_b = (_a = mergedCloseIcon.props) === null || _a === void 0 ? void 0 : _a['aria-label']) !== null && _b !== void 0 ? _b : contextLocale.close\n      }), ariaOrDataProps))) : (/*#__PURE__*/React.createElement(\"span\", Object.assign({\n        \"aria-label\": contextLocale.close\n      }, ariaOrDataProps), mergedCloseIcon));\n    }\n    return [true, mergedCloseIcon, closeBtnIsDisabled, ariaOrDataProps];\n  }, [closeBtnIsDisabled, contextLocale.close, mergedClosableConfig, mergedFallbackCloseCollection]);\n}"],"names":["pickClosable","context","closable","closeIcon","useClosableConfig","closableCollection","React","closableConfig","EmptyFallbackCloseCollection","useClosable","propCloseCollection","contextCloseCollection","fallbackCloseCollection","propCloseConfig","contextCloseConfig","contextLocale","useLocale","defaultLocale","closeBtnIsDisabled","mergedFallbackCloseCollection","CloseOutlined","mergedClosableConfig","extendsObject","_a","_b","closeIconRender","mergedCloseIcon","ariaOrDataProps","pickAttrs"],"mappings":"mgBAQO,SAASA,EAAaC,EAAS,CACpC,GAAI,CAACA,EACH,OAEF,KAAM,CACJ,SAAAC,EACA,UAAAC,CACJ,EAAMF,EACJ,MAAO,CACL,SAAAC,EACA,UAAAC,CACJ,CACA,CAEA,SAASC,EAAkBC,EAAoB,CAC7C,KAAM,CACJ,SAAAH,EACA,UAAAC,CACJ,EAAME,GAAsB,CAAA,EAC1B,OAAOC,EAAM,QAAQ,IAAM,CACzB,GAEA,CAACJ,IAAaA,IAAa,IAASC,IAAc,IAASA,IAAc,MACvE,MAAO,GAET,GAAID,IAAa,QAAaC,IAAc,OAC1C,OAAO,KAET,IAAII,EAAiB,CACnB,UAAW,OAAOJ,GAAc,WAAaA,IAAc,KAAOA,EAAY,MACpF,EACI,OAAID,GAAY,OAAOA,GAAa,WAClCK,EAAiB,OAAO,OAAO,OAAO,OAAO,GAAIA,CAAc,EAAGL,CAAQ,GAErEK,CACT,EAAG,CAACL,EAAUC,CAAS,CAAC,CAC1B,CAEA,MAAMK,EAA+B,CAAA,EACtB,SAASC,EAAYC,EAAqBC,EAAwBC,EAA0BJ,EAA8B,CAEvI,MAAMK,EAAkBT,EAAkBM,CAAmB,EACvDI,EAAqBV,EAAkBO,CAAsB,EAC7D,CAACI,CAAa,EAAIC,EAAU,SAAUC,EAAc,MAAM,EAC1DC,EAAqB,OAAOL,GAAoB,UAAY,CAAC,EAAEA,GAAoB,MAA8CA,EAAgB,UAAY,GAC7JM,EAAgCb,EAAM,QAAQ,IAAM,OAAO,OAAO,CACtE,UAAwBA,EAAM,cAAcc,EAAe,IAAI,CACnE,EAAKR,CAAuB,EAAG,CAACA,CAAuB,CAAC,EAEhDS,EAAuBf,EAAM,QAAQ,IAGrCO,IAAoB,GACf,GAELA,EACKS,EAAcH,EAA+BL,EAAoBD,CAAe,EAIrFC,IAAuB,GAClB,GAELA,EACKQ,EAAcH,EAA+BL,CAAkB,EAGhEK,EAA8B,SAAmBA,EAAR,GAChD,CAACN,EAAiBC,EAAoBK,CAA6B,CAAC,EAEvE,OAAOb,EAAM,QAAQ,IAAM,CACzB,IAAIiB,EAAIC,EACR,GAAIH,IAAyB,GAC3B,MAAO,CAAC,GAAO,KAAMH,EAAoB,CAAA,CAAE,EAE7C,KAAM,CACJ,gBAAAO,CACN,EAAQN,EACE,CACJ,UAAAhB,CACN,EAAQkB,EACJ,IAAIK,EAAkBvB,EAEtB,MAAMwB,EAAkBC,EAAUP,EAAsB,EAAI,EAC5D,OAAIK,GAAoB,OAElBD,IACFC,EAAkBD,EAAgBtB,CAAS,GAE7CuB,EAA+BpB,EAAM,eAAeoB,CAAe,EAAkBpB,EAAM,aAAaoB,EAAiB,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,GAAIA,EAAgB,KAAK,EAAG,CAC7L,cAAeF,GAAMD,EAAKG,EAAgB,SAAW,MAAQH,IAAO,OAAS,OAASA,EAAG,YAAY,KAAO,MAAQC,IAAO,OAASA,EAAKT,EAAc,KAC/J,CAAO,EAAGY,CAAe,CAAC,EAAmBrB,EAAM,cAAc,OAAQ,OAAO,OAAO,CAC/E,aAAcS,EAAc,KACpC,EAASY,CAAe,EAAGD,CAAe,GAE/B,CAAC,GAAMA,EAAiBR,EAAoBS,CAAe,CACpE,EAAG,CAACT,EAAoBH,EAAc,MAAOM,EAAsBF,CAA6B,CAAC,CACnG","x_google_ignoreList":[0]}