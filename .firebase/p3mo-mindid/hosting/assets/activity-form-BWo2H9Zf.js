import{u as K,j as e}from"./@react-router-BOJM2k20.js";import{d as i,S as P,R as r,C as t,a as j,U as F,F as S}from"./index-BafWvN44.js";import{S as o}from"./index-BGD_4JXV.js";import{u as B}from"./use-form-error-handling-Dj-OCOIU.js";import{F as s}from"./index-DDk6ch2l.js";import{S as c}from"./index-HUJMorX5.js";import{I as u}from"./index-BpdQMdSc.js";import{a as M}from"./index-DlR_Bwt3.js";import{B as p}from"./index-BHxSUtD9.js";import{R as O}from"./UploadOutlined-ymldMT98.js";import{s as E}from"./index-Cskjed0c.js";try{let n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},h=new n.Error().stack;h&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[h]="51a48f3b-15c2-40e9-aa9e-cd0e8ac7aa45",n._sentryDebugIdIdentifier="sentry-dbid-51a48f3b-15c2-40e9-aa9e-cd0e8ac7aa45")}catch{}const Q=({formProps:n,error:h,loading:g,isEdit:b=!1,isView:l=!1,initialData:a=null,onSubmit:f,onCancel:v})=>{const[m]=s.useForm(),x=K();B(h,({key:d,message:C})=>m.setFields([{name:d,errors:[C]}]));const A=[{label:"TASK-001",value:"TASK-001"},{label:"TASK-002",value:"TASK-002"},{label:"TASK-003",value:"TASK-003"},{label:"TASK-004",value:"TASK-004"},{label:"TASK-005",value:"TASK-005"},{label:"TASK-006",value:"TASK-006"},{label:"TASK-007",value:"TASK-007"},{label:"TASK-008",value:"TASK-008"},{label:"TASK-009",value:"TASK-009"},{label:"TASK-010",value:"TASK-010"}],k=[{label:"Perencanaan",value:"Perencanaan"},{label:"Pengembangan",value:"Pengembangan"},{label:"In HPO",value:"In HPO"},{label:"FID",value:"FID"}],y=[{label:"Not Started",value:"Not Started"},{label:"In Progress",value:"In Progress"},{label:"Completed",value:"Completed"},{label:"On Hold",value:"On Hold"},{label:"Cancelled",value:"Cancelled"}],I=[{label:"John Doe",value:"John Doe"},{label:"Jane Smith",value:"Jane Smith"},{label:"Mike Johnson",value:"Mike Johnson"},{label:"Alice Brown",value:"Alice Brown"},{label:"Bob Wilson",value:"Bob Wilson"},{label:"Carol Davis",value:"Carol Davis"}],T=d=>{f?f(d):(E.success(b?"Activity updated successfully":"Activity created successfully"),x(-1))},_=d=>!1,q=({fileList:d})=>{m.setFieldsValue({foto:d})};return e.jsx(s,{...n,form:m,layout:"vertical",onFinish:T,initialValues:{...a,bulan_pelaporan:a!=null&&a.bulan_pelaporan?i(a.bulan_pelaporan):null,tanggal_aktivitas:a!=null&&a.tanggal_aktivitas?i(a.tanggal_aktivitas):i(),latest_modified:a!=null&&a.latest_modified?i(a.latest_modified):i(),critical_task:(a==null?void 0:a.critical_task)||!1},children:e.jsxs(P,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(o,{title:"Basic Information",shadow:!1,style:{padding:0},children:[e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Task ID",name:"task_id",rules:[{required:!0,message:"Task ID is required"}],children:e.jsx(c,{placeholder:"Select Task ID",options:A,disabled:l||b})})}),e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Fase",name:"fase",rules:[{required:!0,message:"Fase is required"}],children:e.jsx(c,{placeholder:"Select fase",options:k,disabled:l})})})]}),e.jsx(r,{gutter:16,children:e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Bulan Pelaporan",name:"bulan_pelaporan",rules:[{required:!0,message:"Bulan Pelaporan is required"}],children:e.jsx(j,{picker:"month",style:{width:"100%"},placeholder:"Select month and year",format:"MMMM YYYY",disabled:l})})})})]}),e.jsxs(o,{title:"Activity Progress",shadow:!1,style:{padding:0},children:[e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:24,children:e.jsx(s.Item,{label:"Aktivitas Bulan Berjalan",name:"aktivitas_bulan_sebelumnya",rules:[{required:!0,message:"Current month activity is required"}],children:e.jsx(u.TextArea,{placeholder:"Enter current month activity description",rows:3,disabled:l})})}),e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Status Berjalan",name:"status_bulan_sebelumnya",rules:[{required:!0,message:"Current status is required"}],children:e.jsx(c,{placeholder:"Select status",options:y,disabled:l})})})]}),e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:24,children:e.jsx(s.Item,{label:"Aktivitas Bulan Selanjutnya",name:"aktivitas_bulan_berjalan",rules:[{required:!0,message:"Next month activity is required"}],children:e.jsx(u.TextArea,{placeholder:"Enter next month activity description",rows:3,disabled:l})})}),e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Status Selanjutnya",name:"status_bulan_berjalan",rules:[{required:!0,message:"Next status is required"}],children:e.jsx(c,{placeholder:"Select status",options:y,disabled:l})})})]})]}),e.jsxs(o,{title:"Activity Details",shadow:!1,style:{padding:0},children:[e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"PIC Aktivitas",name:"pic_aktivitas",rules:[{required:!0,message:"PIC is required"}],children:e.jsx(c,{placeholder:"Select PIC",options:I,disabled:l})})}),e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Tanggal Aktivitas",name:"tanggal_aktivitas",rules:[{required:!0,message:"Activity date is required"}],children:e.jsx(j,{style:{width:"100%"},placeholder:"Select activity date",disabled:l})})})]}),e.jsx(r,{gutter:16,children:e.jsx(t,{span:24,children:e.jsx(s.Item,{label:"Aktivitas",name:"aktivitas",rules:[{required:!0,message:"Activity description is required"}],children:e.jsx(u.TextArea,{placeholder:"Enter detailed activity description",rows:4,disabled:l})})})}),e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Critical Task",name:"critical_task",valuePropName:"checked",children:e.jsx(M,{disabled:l,children:"Mark as critical task"})})}),e.jsx(t,{span:12,children:e.jsx(s.Item,{label:"Latest Modified",name:"latest_modified",rules:[{required:!0,message:"Latest modified date is required"}],children:e.jsx(j,{style:{width:"100%"},placeholder:"Select modified date",disabled:l})})})]})]}),e.jsx(o,{title:"Photo Documentation",shadow:!1,style:{padding:0},children:e.jsxs(r,{gutter:16,children:[e.jsx(t,{span:24,children:e.jsxs(s.Item,{label:"Foto",name:"foto",children:[e.jsx(F,{multiple:!0,accept:"image/*",beforeUpload:_,onChange:q,disabled:l,fileList:m.getFieldValue("foto")||[],children:e.jsx(p,{icon:e.jsx(O,{}),disabled:l,children:"Upload Photos"})}),e.jsx("div",{style:{marginTop:8,fontSize:12,color:"#666"},children:"Multiple photos can be uploaded"})]})}),e.jsx(t,{span:24,children:e.jsx(s.Item,{label:"Keterangan Foto",name:"keterangan_foto",children:e.jsx(u.TextArea,{placeholder:"Enter photo description",rows:3,disabled:l})})})]})}),e.jsx(o,{title:"Remarks",shadow:!1,style:{padding:0},children:e.jsx(r,{gutter:16,children:e.jsx(t,{span:24,children:e.jsx(s.Item,{label:"Keterangan",name:"keterangan",children:e.jsx(u.TextArea,{placeholder:"Enter additional remarks",rows:4,disabled:l})})})})}),!l&&e.jsxs(S,{justify:"flex-end",gap:16,style:{marginTop:24},children:[e.jsx(p,{type:"text",disabled:g,onClick:v||(()=>x(-1)),children:"Cancel"}),e.jsx(p,{type:"primary",htmlType:"submit",loading:g,children:b?"Save Changes":"Create Activity"})]}),l&&e.jsx(S,{justify:"flex-end",gap:16,style:{marginTop:24},children:e.jsx(p,{type:"primary",onClick:()=>x(-1),children:"Close"})})]})})};export{Q as A};
//# sourceMappingURL=activity-form-BWo2H9Zf.js.map
