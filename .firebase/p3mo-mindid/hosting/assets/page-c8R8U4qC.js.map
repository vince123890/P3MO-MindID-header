{"version":3,"file":"page-c8R8U4qC.js","sources":["../../src/app/(protected)/master-data/issue-risks/page.jsx"],"sourcesContent":["import { Button, Flex, message, Tag, Modal } from \"antd\";\nimport { DeleteOutlined, EditOutlined, EyeOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router\";\nimport { Page, DataTable } from \"admiral\";\nimport dayjs from \"dayjs\";\n\nimport { makeSource } from \"@/utils/data-table\";\nimport { useFilter } from \"@/app/_hooks/datatable/use-filter\";\nimport { urlParser } from \"@/utils/url-parser\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { formatDate } from \"@/utils/date-format\";\nimport { allIssueRisks } from \"./_data\";\n\nexport const Component = () => {\n  const { handleChange, filters } = useFilter();\n\n  const allIssueRisksData = useGetData(allIssueRisks);\n\n  const allIssueRisksColumns = [\n    {\n      dataIndex: \"kode_issue_risk\",\n      key: \"kode_issue_risk\",\n      title: \"Kode Issue\",\n      sorter: true,\n      render: (_, record) => (\n        <Link to={record.id}>\n          <u>{record.kode_issue_risk}</u>\n        </Link>\n      ),\n    },\n    {\n      dataIndex: \"tipe_issue_risk\",\n      title: \"Tipe Issue\",\n      key: \"tipe_issue_risk\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"status\",\n      title: \"Status\",\n      key: \"status\",\n      sorter: true,\n      render: (_, record) => {\n        const color = record.status === \"Active\" ? \"green\" : \"red\";\n        return <Tag color={color} style={{ border: 'none' }}>{record.status}</Tag>;\n      },\n    },\n    {\n      dataIndex: \"Action\",\n      title: \"Action\",\n      key: \"Action\",\n      render: (_, record) => {\n        return (\n          <Flex>\n            <Link\n              to={urlParser(\"/master-data/issue-risks/:id/update\", {\n                id: record.id,\n              })}\n            >\n              <Button type=\"link\" icon={<EditOutlined />} />\n            </Link>\n            <Button\n              type=\"link\"\n              icon={<DeleteOutlined style={{ color: \"red\" }} />}\n              onClick={() => {\n                Modal.confirm({\n                  title: \"Konfirmasi Hapus\",\n                  content: \"Apakah Anda yakin ingin menghapus Issue/Risk ini?\",\n                  okText: \"Delete\",\n                  cancelText: \"Cancel\",\n                  okType: \"danger\",\n                  onOk: () => {\n                    message.success(\"Issue/Risk successfully deleted\");\n                  },\n                });\n              }}\n            />\n          </Flex>\n        );\n      },\n    },\n  ];\n\n  const breadcrumbs = [\n    {\n      label: \"Master Data\",\n      path: \"/master-data\",\n    },\n    {\n      label: \"Issue\",\n      path: \"/master-data/issue-risks\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Issue\"\n      breadcrumbs={breadcrumbs}\n      topActions={\n        <Link to={\"/master-data/issue-risks/create\"}>\n          <Button type=\"primary\" icon={<PlusOutlined />}>Tambah Issue</Button>\n        </Link>\n      }\n      noStyle\n    >\n      <DataTable\n        filterComponents={[\n          {\n            label: \"Status\",\n            name: \"status\",\n            type: \"Select\",\n            placeholder: \"Select Status\",\n            width: 140,\n            defaultValue: filters.status,\n            options: [\n              { label: \"Active\", value: \"Active\" },\n              { label: \"Inactive\", value: \"Inactive\" },\n            ],\n          },\n          {\n            label: \"Tipe\",\n            name: \"tipe_issue_risk\",\n            type: \"Select\",\n            placeholder: \"Select Type\",\n            width: 180,\n            defaultValue: filters.tipe_issue_risk,\n            options: [\n              { label: \"Technical Issue\", value: \"Technical Risk\" },\n              { label: \"Budget Issue\", value: \"Budget Risk\" },\n              { label: \"Schedule Issue\", value: \"Schedule Risk\" },\n              { label: \"Resource Issue\", value: \"Resource Risk\" },\n              { label: \"Quality Issue\", value: \"Quality Issue\" },\n              { label: \"Scope Issue\", value: \"Scope Issue\" },\n              { label: \"Communication Issue\", value: \"Communication Risk\" },\n              { label: \"Stakeholder Issue\", value: \"Stakeholder Risk\" },\n              { label: \"External Issue\", value: \"External Risk\" },\n              { label: \"Compliance Issue\", value: \"Compliance Issue\" },\n            ],\n          },\n        ]}\n        onChange={handleChange}\n        rowKey=\"id\"\n        loading={allIssueRisksData.loading}\n        source={makeSource(allIssueRisksData.data)}\n        columns={allIssueRisksColumns}\n        search={filters.search}\n        showRowSelection={true}\n        batchActionMenus={[\n          {\n            key: \"delete\",\n            label: \"Delete\",\n            onClick: (_values, cb) => {\n              Modal.confirm({\n                title: \"Konfirmasi Hapus\",\n                content: \"Apakah Anda yakin ingin menghapus Issue/Risk yang dipilih?\",\n                okText: \"Delete\",\n                cancelText: \"Cancel\",\n                okType: \"danger\",\n                onOk: () => {\n                  message.success(\"Selected issue/risks successfully deleted\");\n                  cb.reset();\n                },\n              });\n            },\n            danger: true,\n            icon: <DeleteOutlined />,\n          },\n        ]}\n      />\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Component","handleChange","filters","useFilter","allIssueRisksData","useGetData","allIssueRisks","allIssueRisksColumns","_","record","jsx","Link","color","Tag","Flex","urlParser","Button","EditOutlined","DeleteOutlined","Modal","message","breadcrumbs","Page","PlusOutlined","DataTable","makeSource","_values","cb"],"mappings":"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"}