{"version":3,"file":"page-wl9owd1j.js","sources":["../../src/app/(protected)/master-data/feasibility-studies/page.jsx"],"sourcesContent":["import { Button, Flex, message, Tag } from \"antd\";\nimport { EyeOutlined, UserAddOutlined, ReloadOutlined, FilterOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router\";\nimport { Page, DataTable } from \"admiral\";\nimport dayjs from \"dayjs\";\n\nimport { makeSource } from \"@/utils/data-table\";\nimport { useFilter } from \"@/app/_hooks/datatable/use-filter\";\nimport { urlParser } from \"@/utils/url-parser\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { formatDate } from \"@/utils/date-format\";\nimport { listFeasibilityStudies } from \"./_data\";\n\nexport const Component = () => {\n  const { handleChange, filters } = useFilter();\n\n  const feasibilityStudiesData = useGetData(listFeasibilityStudies);\n\n  const handleSync = () => {\n    message.success(\"Data has been synchronized successfully\");\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('id-ID', {\n      style: 'currency',\n      currency: 'IDR',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case \"Assign\":\n        return \"green\";\n      case \"Unassign\":\n        return \"orange\";\n      default:\n        return \"default\";\n    }\n  };\n\n  const feasibilityStudiesColumns = [\n    {\n      dataIndex: \"project_code\",\n      key: \"project_code\",\n      title: \"Project Code\",\n      sorter: true,\n      render: (_, record) => (\n        <Link to={urlParser(\"/master-data/feasibility-studies/:id\", { id: record.id })}>\n          <u>{record.project_code}</u>\n        </Link>\n      ),\n    },\n    {\n      dataIndex: \"business_initiative_name\",\n      title: \"Business Initiative Name\",\n      key: \"business_initiative_name\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"company\",\n      title: \"Company\",\n      key: \"company\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"capex_estimate\",\n      title: \"CAPEX Estimate\",\n      key: \"capex_estimate\",\n      sorter: true,\n      render: (_, record) => formatCurrency(record.capex_estimate),\n    },\n    {\n      dataIndex: \"irr_estimate\",\n      title: \"IRR Estimate\",\n      key: \"irr_estimate\",\n      sorter: true,\n      render: (_, record) => `${record.irr_estimate}%`,\n    },\n    {\n      dataIndex: \"npv_estimate\",\n      title: \"NPV Estimate\",\n      key: \"npv_estimate\",\n      sorter: true,\n      render: (_, record) => formatCurrency(record.npv_estimate),\n    },\n    {\n      dataIndex: \"status\",\n      title: \"Status\",\n      key: \"status\",\n      sorter: true,\n      render: (_, record) => (\n        <Tag color={getStatusColor(record.status)} style={{ border: 'none' }}>{record.status}</Tag>\n      ),\n    },\n    {\n      dataIndex: \"last_sync_date\",\n      title: \"Last Sync Date\",\n      key: \"last_sync_date\",\n      sorter: true,\n      render: (_, record) => formatDate(record.last_sync_date),\n    },\n    {\n      dataIndex: \"Roles\",\n      title: \"Roles\",\n      key: \"Roles\",\n      render: (_, record) => {\n        if (record.status === \"Assign\") {\n          return \"-\";\n        }\n        return (\n          <Flex>\n            <Link\n              to={\"/master-data/feasibility-studies/add-approver-viewer\"}\n            >\n              <Button\n                type=\"link\"\n                icon={<UserAddOutlined style={{ color: \"blue\" }} />}\n              />\n            </Link>\n          </Flex>\n        );\n      },\n    },\n  ];\n\n  const breadcrumbs = [\n    {\n      label: \"Master Data\",\n      path: \"/master-data\",\n    },\n    {\n      label: \"Feasibility Studies\",\n      path: \"/master-data/feasibility-studies\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Feasibility Studies\"\n      breadcrumbs={breadcrumbs}\n      topActions={\n        <Button \n          icon={<ReloadOutlined />} \n          onClick={handleSync}\n          type=\"primary\"\n        >\n          Sync Manual\n        </Button>\n      }\n      noStyle\n    >\n      <DataTable\n        filterComponents={[\n          {\n            label: \"filter\",\n            name: \"filter\",\n            type: \"Group\",\n            icon: <FilterOutlined />,\n            cols: 2,\n            filters: [\n              {\n                label: \"Company\",\n                name: \"company\",\n                type: \"Select\",\n                placeholder: \"Select Company\",\n                defaultValue: filters.company,\n                options: [\n                  { label: \"PT Aneka Tambang Tbk\", value: \"PT Aneka Tambang Tbk\" },\n                  { label: \"PT Bukit Asam Tbk\", value: \"PT Bukit Asam Tbk\" },\n                  { label: \"PT Freeport Indonesia\", value: \"PT Freeport Indonesia\" },\n                  { label: \"PT Indonesia Asahan Aluminium (Inalum)\", value: \"PT Indonesia Asahan Aluminium (Inalum)\" },\n                  { label: \"PT Timah Tbk\", value: \"PT Timah Tbk\" },\n                  { label: \"PT Vale Indonesia\", value: \"PT Vale Indonesia\" },\n                ],\n              },\n              {\n                label: \"Status\",\n                name: \"status\",\n                type: \"Select\",\n                placeholder: \"Select Status\",\n                defaultValue: filters.status,\n                options: [\n                  { label: \"Assign\", value: \"Assign\" },\n                  { label: \"Unassign\", value: \"Unassign\" },\n                ],\n              },\n              {\n                label: \"Last Sync Date\",\n                name: \"last_sync_date\",\n                type: \"DateRangePicker\",\n                width: 230,\n                defaultValue:\n                  typeof filters.last_sync_date?.[0] === \"number\"\n                    ? [dayjs(dayjs.unix(filters.last_sync_date[0])), dayjs(dayjs.unix(filters.last_sync_date[1]))]\n                    : [undefined, undefined],\n                placeholder: [\"Start Date\", \"End Date\"],\n              },\n            ],\n          },\n        ]}\n        onChange={handleChange}\n        rowKey=\"id\"\n        loading={feasibilityStudiesData.loading}\n        source={makeSource(feasibilityStudiesData.data)}\n        columns={feasibilityStudiesColumns}\n        search={filters.search}\n        showRowSelection={false}\n      />\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Component","handleChange","filters","useFilter","feasibilityStudiesData","useGetData","listFeasibilityStudies","handleSync","message","formatCurrency","amount","getStatusColor","status","feasibilityStudiesColumns","_","record","jsx","Link","urlParser","Tag","formatDate","Flex","Button","UserAddOutlined","breadcrumbs","Page","ReloadOutlined","DataTable","FilterOutlined","_a","dayjs","makeSource"],"mappings":"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"}