import{a as R,j as e}from"./@react-router-BOJM2k20.js";import{S as u,F as c,D as l,d as B}from"./index-BafWvN44.js";import{S as p}from"./index-BGD_4JXV.js";import{D as P,m as E}from"./data-table-Dk-TAeJX.js";import{R as T}from"./risk-form-VQW55dr5.js";import{f as k}from"./date-format-C-noHyYW.js";import{B as a}from"./index-BHxSUtD9.js";import{R as b}from"./ArrowLeftOutlined-C3pXU1wT.js";import{T as n}from"./index-QOKA2q-x.js";import{T as g}from"./index-Y5xvexJH.js";import{R as U}from"./PlusOutlined-Dx_yv4bP.js";import{M as A}from"./index-C_i7UN8L.js";import{s as _}from"./index-Cskjed0c.js";import{R as $}from"./EditOutlined-ILeNmOcc.js";import{R as F}from"./DeleteOutlined-DO7ccZ5J.js";import"./reactNode-Csz1gYGy.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./index-Dh480BEi.js";import"./index-DlR_Bwt3.js";import"./index-DDk6ch2l.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./index-HUJMorX5.js";import"./FilterOutlined-iieb3jrr.js";import"./context-BclqCKk2.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./Table-D1c8ugbT.js";import"./index-D7Vx8KJw.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./AntdIcon-DUdM8fG5.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";try{let o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},m=new o.Error().stack;m&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[m]="dfc67856-6026-44f3-8ad3-75a895cb8f08",o._sentryDebugIdIdentifier="sentry-dbid-dfc67856-6026-44f3-8ad3-75a895cb8f08")}catch{}const{Text:t}=n,Se=({id:o,risksData:m,risksLoading:I,filters:x,readOnly:y=!1})=>{const[h,d]=R.useState("list"),[i,f]=R.useState(null),M=()=>{try{return x?typeof x.search=="string"?x.search:x.search&&typeof x.search.toString=="function"?x.search.toString():"":""}catch(r){return console.warn("Error extracting search value:",r),""}},C=[{dataIndex:"nomor_resiko",key:"nomor_resiko",title:"Taksonomi Resiko",sorter:!0,width:150,fixed:"left",render:(r,s)=>e.jsx(a,{type:"link",onClick:()=>{f(s),d("detail")},style:{color:"#0F1E3A",textDecoration:"underline",textDecorationColor:"#0F1E3A",padding:0,height:"auto",textAlign:"left"},children:r})},{dataIndex:"deskripsi_resiko",key:"deskripsi_resiko",title:"Deskripsi Resiko",sorter:!0,ellipsis:!0,width:300},{dataIndex:"dampak_resiko",key:"dampak_resiko",title:"Dampak Resiko",sorter:!0,ellipsis:!0,width:250},{dataIndex:"level_resiko",key:"level_resiko",title:"Level Resiko",sorter:!0,width:140,render:(r,s)=>{const D=`${s.prioritas_resiko} (${s.skor_resiko}/10)`,v={Critical:"red",High:"orange",Medium:"gold",Low:"green"};return e.jsx(g,{color:v[s.prioritas_resiko]||"default",children:D})}},{dataIndex:"rencana_mitigasi",key:"rencana_mitigasi",title:"Mitigasi Resiko",sorter:!0,ellipsis:!0,width:250},{dataIndex:"deadline_mitigasi",key:"deadline_mitigasi",title:"Deadline",sorter:!0,width:140,render:r=>r?B(r).format("DD/MM/YYYY"):"-"},{dataIndex:"pic",key:"pic",title:"PIC",sorter:!0,width:140},{dataIndex:"status_mitigasi",key:"status_mitigasi",title:"Status",sorter:!0,width:120,render:r=>{const s={Open:"red","In Progress":"blue",Completed:"green","On Hold":"orange",Cancelled:"default"};return e.jsx(g,{color:s[r]||"default",children:r})}},...y?[]:[{dataIndex:"Action",title:"Action",key:"Action",width:120,fixed:"right",render:(r,s)=>e.jsxs(c,{children:[e.jsx(a,{type:"link",icon:e.jsx($,{}),size:"small",onClick:()=>{f(s),d("edit")}}),e.jsx(a,{type:"link",icon:e.jsx(F,{style:{color:"red"}}),size:"small",onClick:()=>w()})]})}]],S=r=>{if(r&&r.__cancel){d("list");return}h==="edit"?_.success("Risk updated successfully"):_.success("Risk created successfully"),d("list")},j=()=>{d("list")},z=()=>{d("edit")},w=r=>{A.confirm({title:"Konfirmasi Hapus",content:"Apakah Anda yakin ingin menghapus resiko ini?",okText:"Delete",cancelText:"Cancel",okType:"danger",onOk(){_.success("Risk successfully deleted")}})};return h==="detail"&&i?e.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(c,{align:"center",justify:"space-between",style:{width:"100%",paddingTop:"16px",paddingBottom:"16px"},children:[e.jsxs(c,{align:"center",gap:12,children:[e.jsx(a,{icon:e.jsx(b,{}),onClick:j,type:"text"}),e.jsxs(t,{strong:!0,style:{fontSize:"18px"},children:["Risk Details: ",i.nomor_resiko||""]})]}),!y&&e.jsxs(c,{gap:10,children:[e.jsx(a,{htmlType:"button",onClick:()=>w(),danger:!0,children:"Delete"}),e.jsx(a,{htmlType:"button",type:"primary",onClick:z,children:"Edit"})]})]}),e.jsxs(p,{bodyStyle:{padding:0},bordered:!1,children:[e.jsx(p,{title:"Risk Identification",bodyStyle:{padding:24},children:e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"nomor_resiko",label:"Nomor Resiko",children:e.jsx(t,{strong:!0,children:i.nomor_resiko??"-"})},{key:"tanggal_identifikasi_resiko",label:"Tanggal Identifikasi Resiko",children:e.jsx(t,{strong:!0,children:i.tanggal_identifikasi_resiko?k(i.tanggal_identifikasi_resiko):"-"})},{key:"kategori_resiko",label:"Kategori Resiko",children:e.jsx(t,{strong:!0,children:i.kategori_resiko??"-"})},{key:"probabilitas_resiko",label:"Probabilitas Resiko",children:e.jsx(t,{strong:!0,children:i.probabilitas_resiko??"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(p,{title:"Risk Description",style:{marginTop:24},bodyStyle:{padding:24},children:e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"deskripsi_resiko",label:"Deskripsi Resiko",children:e.jsx(t,{strong:!0,children:i.deskripsi_resiko??"-"}),span:2},{key:"dampak_resiko",label:"Dampak Resiko",children:e.jsx(t,{strong:!0,children:i.dampak_resiko??"-"}),span:2},{key:"tingkat_dampak",label:"Tingkat Dampak",children:e.jsx(t,{strong:!0,children:i.tingkat_dampak??"-"})},{key:"skor_resiko",label:"Skor Resiko",children:e.jsxs(t,{strong:!0,children:[i.skor_resiko??"-","/10"]})},{key:"prioritas_resiko",label:"Prioritas Resiko",children:e.jsx(g,{color:i.prioritas_resiko==="Critical"?"red":i.prioritas_resiko==="High"?"orange":i.prioritas_resiko==="Medium"?"gold":i.prioritas_resiko==="Low"?"green":"default",children:i.prioritas_resiko??"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(p,{title:"Mitigation Plan",style:{marginTop:24},bodyStyle:{padding:24},children:e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"rencana_mitigasi",label:"Rencana Mitigasi",children:e.jsx(t,{strong:!0,children:i.rencana_mitigasi??"-"}),span:2},{key:"status_mitigasi",label:"Status Mitigasi",children:e.jsx(g,{color:i.status_mitigasi==="Open"?"red":i.status_mitigasi==="In Progress"?"blue":i.status_mitigasi==="Completed"?"green":i.status_mitigasi==="On Hold"?"orange":"default",children:i.status_mitigasi??"-"})},{key:"deadline_mitigasi",label:"Deadline Mitigasi",children:e.jsx(t,{strong:!0,children:i.deadline_mitigasi?k(i.deadline_mitigasi):"-"})},{key:"pic",label:"PIC",children:e.jsx(t,{strong:!0,children:i.pic??"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(p,{title:"Mitigation & Update Summary",style:{marginTop:24},bodyStyle:{padding:24},children:e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(n.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 1"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Mitigation Plan"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"rencana_mitigasi",label:"Rencana Mitigasi",children:e.jsx(t,{strong:!0,children:i.rencana_mitigasi??"-"}),span:2},{key:"deadline_mitigasi",label:"Deadline Mitigasi",children:e.jsx(t,{strong:!0,children:i.deadline_mitigasi?k(i.deadline_mitigasi):"-"})},{key:"status_mitigasi",label:"Status Mitigasi",children:e.jsx(g,{color:i.status_mitigasi==="Open"?"red":i.status_mitigasi==="In Progress"?"blue":i.status_mitigasi==="Completed"?"green":i.status_mitigasi==="On Hold"?"orange":"default",children:i.status_mitigasi??"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"update_mitigasi",label:"Update Mitigasi",children:e.jsx(t,{strong:!0,children:i.update_mitigasi??"-"}),span:2},{key:"tanggal_update_terkini",label:"Tanggal Update Terkini",children:e.jsx(t,{strong:!0,children:i.tanggal_update_terkini?k(i.tanggal_update_terkini):"-"})},{key:"pic",label:"PIC",children:e.jsx(t,{strong:!0,children:i.pic??"-"})},{key:"keterangan",label:"Keterangan",children:e.jsx(t,{strong:!0,children:i.keterangan??"-"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]}),e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(n.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 2"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Mitigation Plan"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"rencana_mitigasi_2",label:"Rencana Mitigasi",children:e.jsx(t,{strong:!0,children:"Implement backup power system and conduct regular testing"}),span:2},{key:"deadline_mitigasi_2",label:"Deadline Mitigasi",children:e.jsx(t,{strong:!0,children:"15/02/2025"})},{key:"status_mitigasi_2",label:"Status Mitigasi",children:e.jsx(g,{color:"blue",children:"In Progress"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"update_mitigasi_2",label:"Update Mitigasi",children:e.jsx(t,{strong:!0,children:"Backup system procurement completed, installation scheduled"}),span:2},{key:"tanggal_update_terkini_2",label:"Tanggal Update Terkini",children:e.jsx(t,{strong:!0,children:"05/02/2025"})},{key:"pic_2",label:"PIC",children:e.jsx(t,{strong:!0,children:"Technical Team Lead"})},{key:"keterangan_2",label:"Keterangan",children:e.jsx(t,{strong:!0,children:"Installation crew booked for next week"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]}),e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(n.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 3"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Mitigation Plan"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"rencana_mitigasi_3",label:"Rencana Mitigasi",children:e.jsx(t,{strong:!0,children:"Review and update risk assessment quarterly"}),span:2},{key:"deadline_mitigasi_3",label:"Deadline Mitigasi",children:e.jsx(t,{strong:!0,children:"28/02/2025"})},{key:"status_mitigasi_3",label:"Status Mitigasi",children:e.jsx(g,{color:"red",children:"Open"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(n.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(l,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"update_mitigasi_3",label:"Update Mitigasi",children:e.jsx(t,{strong:!0,children:"Awaiting stakeholder review meeting"}),span:2},{key:"tanggal_update_terkini_3",label:"Tanggal Update Terkini",children:e.jsx(t,{strong:!0,children:"01/02/2025"})},{key:"pic_3",label:"PIC",children:e.jsx(t,{strong:!0,children:"Risk Manager"})},{key:"keterangan_3",label:"Keterangan",children:e.jsx(t,{strong:!0,children:"Meeting invitation sent to all stakeholders"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]})]})})]})]}):h==="create"?e.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(c,{align:"center",gap:12,style:{paddingTop:"16px",paddingBottom:"16px"},children:[e.jsx(a,{icon:e.jsx(b,{}),onClick:j,type:"text"}),e.jsx(t,{strong:!0,style:{fontSize:"18px"},children:"Create New Risk"})]}),e.jsx(T,{formProps:{},error:null,loading:!1,isEdit:!1,isView:!1,initialData:null,onSubmit:S})]}):h==="edit"&&i?e.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(c,{align:"center",gap:12,style:{paddingTop:"16px",paddingBottom:"16px"},children:[e.jsx(a,{icon:e.jsx(b,{}),onClick:j,type:"text"}),e.jsxs(t,{strong:!0,style:{fontSize:"18px"},children:["Edit Risk: ",i.nomor_resiko||""]})]}),e.jsx(T,{formProps:{},error:null,loading:!1,isEdit:!0,isView:!1,initialData:i,onSubmit:S})]}):e.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsx(p,{bodyStyle:{padding:24},children:e.jsxs(c,{align:"center",justify:"space-between",style:{width:"100%"},children:[e.jsx(t,{strong:!0,style:{fontSize:"16px"},children:"Project Risks"}),!y&&e.jsx(a,{type:"primary",icon:e.jsx(U,{}),onClick:()=>d("create"),children:"Create Risk"})]})}),e.jsx(p,{bodyStyle:{padding:0},bordered:!1,children:e.jsx(P,{rowKey:"id",loading:I||m.loading,source:E(m.data),columns:C,search:M(),hideSearch:!0,showRowSelection:!1,scroll:{x:1200},pagination:{sticky:!0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(r,s)=>`${s[0]}-${s[1]} of ${r} items`}})})]})};export{Se as default};
//# sourceMappingURL=ProjectRisksContent-DGom53dv.js.map
