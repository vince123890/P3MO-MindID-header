import{a as T,j as e}from"./@react-router-BOJM2k20.js";import{S as h,F as u,D as n,d as P}from"./index-BafWvN44.js";import{S as g}from"./index-BGD_4JXV.js";import{D as E,m as U}from"./data-table-Dk-TAeJX.js";import{I as D}from"./issue-form-BE28AkRn.js";import{g as v}from"./issues-CS8Fbs9L.js";import{f as y}from"./date-format-C-noHyYW.js";import{B as o}from"./index-BHxSUtD9.js";import{R as _}from"./ArrowLeftOutlined-C3pXU1wT.js";import{T as r}from"./index-QOKA2q-x.js";import{T as a}from"./index-Y5xvexJH.js";import{R as M}from"./PlusOutlined-Dx_yv4bP.js";import{M as A}from"./index-C_i7UN8L.js";import{s as f}from"./index-Cskjed0c.js";import{R as F}from"./EditOutlined-ILeNmOcc.js";import{R as K}from"./DeleteOutlined-DO7ccZ5J.js";import"./reactNode-Csz1gYGy.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./index-Dh480BEi.js";import"./index-DlR_Bwt3.js";import"./index-DDk6ch2l.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./index-HUJMorX5.js";import"./FilterOutlined-iieb3jrr.js";import"./context-BclqCKk2.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./Table-D1c8ugbT.js";import"./index-D7Vx8KJw.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./AntdIcon-DUdM8fG5.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";try{let d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},x=new d.Error().stack;x&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[x]="d2846657-1625-4236-a1b3-36a669a4e9e0",d._sentryDebugIdIdentifier="sentry-dbid-d2846657-1625-4236-a1b3-36a669a4e9e0")}catch{}const{Text:s}=r,Ie=({id:d,issuesData:x,issuesLoading:z,filters:p,readOnly:k=!1})=>{const[m,c]=T.useState("list"),[t,w]=T.useState(null),B=()=>{try{return p?typeof p.search=="string"?p.search:p.search&&typeof p.search.toString=="function"?p.search.toString():"":""}catch(i){return console.warn("Error extracting search value:",i),""}},R=[{dataIndex:"wbs_task_id",key:"wbs_task_id",title:"WBS/Task ID",sorter:!0,width:150,fixed:"left",render:(i,l)=>e.jsx(o,{type:"link",onClick:()=>{const b=v(l.id);w(b.data),c("detail")},style:{color:"#0F1E3A",textDecoration:"underline",textDecorationColor:"#0F1E3A",padding:0,height:"auto",textAlign:"left"},children:i})},{dataIndex:"aktivitas_master_schedule",key:"aktivitas_master_schedule",title:"Aktivitas di Master Schedule",sorter:!0,ellipsis:!0,width:250},{dataIndex:"kategori_issue",key:"kategori_issue",title:"Kategori Issue",sorter:!0,width:160,render:i=>{const l={Technical:"blue",Logistical:"orange",Environmental:"green",Resource:"purple",Safety:"red",Financial:"gold",Regulatory:"cyan"};return e.jsx(a,{color:l[i]||"default",children:i})}},{dataIndex:"tipe_issue",key:"tipe_issue",title:"Tipe Issue",sorter:!0,width:160},{dataIndex:"deskripsi_issue",key:"deskripsi_issue",title:"Deskripsi Issue",sorter:!0,ellipsis:!0,width:300},{dataIndex:"progress_update",key:"progress_update",title:"Progress Update",sorter:!0,ellipsis:!0,width:250},{dataIndex:"deadline",key:"deadline",title:"Deadline",sorter:!0,width:140,render:i=>i?P(i).format("DD/MM/YYYY"):"-"},{dataIndex:"pic",key:"pic",title:"PIC",sorter:!0,width:140},{dataIndex:"status_issue",key:"status_issue",title:"Status",sorter:!0,width:120,render:i=>{const l={Open:"red","In Progress":"blue",Resolved:"green",Closed:"default"};return e.jsx(a,{color:l[i]||"default",children:i})}},{dataIndex:"prioritas_issue",key:"prioritas_issue",title:"Priority",sorter:!0,width:120,render:i=>{const l={High:"red",Medium:"orange",Low:"green"};return e.jsx(a,{color:l[i]||"default",children:i})}},...k?[]:[{dataIndex:"Action",title:"Action",key:"Action",width:120,fixed:"right",render:(i,l)=>e.jsxs(u,{children:[e.jsx(o,{type:"link",icon:e.jsx(F,{}),size:"small",onClick:()=>{const b=v(l.id);w(b.data),c("edit")}}),e.jsx(o,{type:"link",icon:e.jsx(K,{style:{color:"red"}}),size:"small",onClick:()=>S()})]})}]],I=i=>{if(i&&i.__cancel){c("list");return}m==="edit"?f.success("Issue updated successfully"):f.success("Issue created successfully"),c("list")},j=()=>{c("list")},C=()=>{c("edit")},S=i=>{A.confirm({title:"Konfirmasi Hapus",content:"Apakah Anda yakin ingin menghapus issue ini?",okText:"Delete",cancelText:"Cancel",okType:"danger",onOk(){f.success("Issue successfully deleted")}})};return m==="detail"&&t?e.jsxs(h,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(u,{align:"center",justify:"space-between",style:{width:"100%",paddingTop:"16px",paddingBottom:"16px"},children:[e.jsxs(u,{align:"center",gap:12,children:[e.jsx(o,{icon:e.jsx(_,{}),onClick:j,type:"text"}),e.jsxs(s,{strong:!0,style:{fontSize:"18px"},children:["Issue Details: ",t.nomor_issue||t.wbs_task_id||""]})]}),!k&&e.jsxs(u,{gap:10,children:[e.jsx(o,{htmlType:"button",onClick:()=>S(),danger:!0,children:"Delete"}),e.jsx(o,{htmlType:"button",type:"primary",onClick:C,children:"Edit"})]})]}),e.jsxs(g,{bodyStyle:{padding:0},bordered:!1,children:[e.jsx(g,{title:"Issue Information",bodyStyle:{padding:24},children:e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"wbs_task_id",label:"Nomor Issue/Task ID",children:e.jsx(s,{strong:!0,children:t.wbs_task_id??"-"})},{key:"aktivitas_master_schedule",label:"Aktivitas di Master Schedule",children:e.jsx(s,{strong:!0,children:t.aktivitas_master_schedule??"-"})},{key:"tanggal_issue",label:"Tanggal Issue",children:e.jsx(s,{strong:!0,children:t.tanggal_issue?y(t.tanggal_issue):"-"})},{key:"kategori_issue",label:"Kategori Issue",children:e.jsx(a,{color:t.kategori_issue==="Technical"?"blue":t.kategori_issue==="Logistical"?"orange":t.kategori_issue==="Environmental"?"green":t.kategori_issue==="Resource"?"purple":t.kategori_issue==="Safety"?"red":t.kategori_issue==="Financial"?"gold":t.kategori_issue==="Regulatory"?"cyan":"default",children:t.kategori_issue??"-"})},{key:"status_issue",label:"Status Issue",children:e.jsx(a,{color:t.status_issue==="Open"?"red":t.status_issue==="In Progress"?"blue":t.status_issue==="Resolved"?"green":"default",children:t.status_issue??"-"})},{key:"tipe_issue",label:"Tipe Issue",children:e.jsx(s,{strong:!0,children:t.tipe_issue??"-"})},{key:"deskripsi_issue",label:"Deskripsi Issue",children:e.jsx(s,{strong:!0,children:t.deskripsi_issue??"-"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(g,{title:"Resolution & Update Summary",style:{marginTop:24},bodyStyle:{padding:24},children:e.jsxs(h,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(r.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 1"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Issue Detail"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"dampak_issue",label:"Dampak Issue",children:e.jsx(s,{strong:!0,children:t.dampak_issue??"-"}),span:2},{key:"pic",label:"PIC",children:e.jsx(s,{strong:!0,children:t.pic??"-"})},{key:"prioritas_issue",label:"Prioritas Issue",children:e.jsx(a,{color:t.prioritas_issue==="High"?"red":t.prioritas_issue==="Medium"?"orange":t.prioritas_issue==="Low"?"green":"default",children:t.prioritas_issue??"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Resolution Plan"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"resolution",label:"Resolution",children:e.jsx(s,{strong:!0,children:t.resolution??"-"}),span:2},{key:"deadline_resolution",label:"Deadline Resolution",children:e.jsx(s,{strong:!0,children:t.deadline_resolution?y(t.deadline_resolution):"-"})},{key:"deadline",label:"Deadline",children:e.jsx(s,{strong:!0,children:t.deadline?y(t.deadline):"-"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"issue_update",label:"Issue Update",children:e.jsx(s,{strong:!0,children:t.issue_update??"-"}),span:2},{key:"tanggal_update_terkini",label:"Tanggal Update Terkini",children:e.jsx(s,{strong:!0,children:t.tanggal_update_terkini?y(t.tanggal_update_terkini):"-"})},{key:"progress_update",label:"Progress Update",children:e.jsx(s,{strong:!0,children:t.progress_update??"-"})},{key:"keterangan",label:"Keterangan",children:e.jsx(s,{strong:!0,children:t.keterangan??"-"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]}),e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(r.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 2"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Issue Detail"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"dampak_issue_2",label:"Dampak Issue",children:e.jsx(s,{strong:!0,children:"Equipment delay affecting project timeline by 2 weeks"}),span:2},{key:"pic_2",label:"PIC",children:e.jsx(s,{strong:!0,children:"Jane Smith"})},{key:"prioritas_issue_2",label:"Prioritas Issue",children:e.jsx(a,{color:"orange",children:"Medium"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Resolution Plan"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"resolution_2",label:"Resolution",children:e.jsx(s,{strong:!0,children:"Follow up with vendor for expedited delivery"}),span:2},{key:"deadline_resolution_2",label:"Deadline Resolution",children:e.jsx(s,{strong:!0,children:"15/01/2025"})},{key:"deadline_2",label:"Deadline",children:e.jsx(s,{strong:!0,children:"20/01/2025"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"issue_update_2",label:"Issue Update",children:e.jsx(s,{strong:!0,children:"Vendor confirmed they will prioritize our order"}),span:2},{key:"tanggal_update_terkini_2",label:"Tanggal Update Terkini",children:e.jsx(s,{strong:!0,children:"10/01/2025"})},{key:"progress_update_2",label:"Progress Update",children:e.jsx(s,{strong:!0,children:"60% Complete"})},{key:"keterangan_2",label:"Keterangan",children:e.jsx(s,{strong:!0,children:"Payment processed, awaiting shipment confirmation"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]}),e.jsxs("div",{style:{border:"1px solid #d9d9d9",borderRadius:"6px",padding:"16px",backgroundColor:"#fafafa"},children:[e.jsx("div",{style:{marginBottom:"16px",paddingBottom:"8px",borderBottom:"1px solid #e8e8e8"},children:e.jsx(r.Text,{strong:!0,style:{fontSize:"14px"},children:"Entry 3"})}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Issue Detail"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"dampak_issue_3",label:"Dampak Issue",children:e.jsx(s,{strong:!0,children:"Resource allocation conflict between two project teams"}),span:2},{key:"pic_3",label:"PIC",children:e.jsx(s,{strong:!0,children:"Mike Johnson"})},{key:"prioritas_issue_3",label:"Prioritas Issue",children:e.jsx(a,{color:"red",children:"High"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Resolution Plan"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"resolution_3",label:"Resolution",children:e.jsx(s,{strong:!0,children:"Schedule team meeting to review progress and adjust timeline"}),span:2},{key:"deadline_resolution_3",label:"Deadline Resolution",children:e.jsx(s,{strong:!0,children:"25/01/2025"})},{key:"deadline_3",label:"Deadline",children:e.jsx(s,{strong:!0,children:"30/01/2025"})}],column:{md:1,lg:2,xl:2,xxl:2}})]}),e.jsxs("div",{children:[e.jsx(r.Text,{strong:!0,style:{marginBottom:"8px",display:"block",fontSize:"14px"},children:"Update Information"}),e.jsx(n,{bordered:!0,layout:"horizontal",labelStyle:{width:"200px"},contentStyle:{width:"calc(50% - 200px)"},items:[{key:"issue_update_3",label:"Issue Update",children:e.jsx(s,{strong:!0,children:"Team meeting scheduled for next week"}),span:2},{key:"tanggal_update_terkini_3",label:"Tanggal Update Terkini",children:e.jsx(s,{strong:!0,children:"12/01/2025"})},{key:"progress_update_3",label:"Progress Update",children:e.jsx(s,{strong:!0,children:"30% Complete"})},{key:"keterangan_3",label:"Keterangan",children:e.jsx(s,{strong:!0,children:"Preparing detailed timeline analysis for review"}),span:2}],column:{md:1,lg:2,xl:2,xxl:2}})]})]})]})})]})]}):m==="create"?e.jsxs(h,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(u,{align:"center",gap:12,style:{paddingTop:"16px",paddingBottom:"16px"},children:[e.jsx(o,{icon:e.jsx(_,{}),onClick:j,type:"text"}),e.jsx(s,{strong:!0,style:{fontSize:"18px"},children:"Create New Issue"})]}),e.jsx(D,{formProps:{},error:null,loading:!1,isEdit:!1,isView:!1,initialData:null,onSubmit:I})]}):m==="edit"&&t?e.jsxs(h,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsxs(u,{align:"center",gap:12,style:{paddingTop:"16px",paddingBottom:"16px"},children:[e.jsx(o,{icon:e.jsx(_,{}),onClick:j,type:"text"}),e.jsxs(s,{strong:!0,style:{fontSize:"18px"},children:["Edit Issue: ",t.nomor_issue||t.wbs_task_id||""]})]}),e.jsx(D,{formProps:{},error:null,loading:!1,isEdit:!0,isView:!1,initialData:t,onSubmit:I})]}):e.jsxs(h,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsx(g,{bodyStyle:{padding:24},children:e.jsxs(u,{align:"center",justify:"space-between",style:{width:"100%"},children:[e.jsx(s,{strong:!0,style:{fontSize:"16px"},children:"Project Issues"}),!k&&e.jsx(o,{type:"primary",icon:e.jsx(M,{}),onClick:()=>c("create"),children:"Create Issue"})]})}),e.jsx(g,{bodyStyle:{padding:0},bordered:!1,children:e.jsx(E,{rowKey:"id",loading:z||x.loading,source:U(x.data),columns:R,search:B(),hideSearch:!0,showRowSelection:!1,scroll:{x:1200},pagination:{sticky:!0,showSizeChanger:!0,showQuickJumper:!0,showTotal:(i,l)=>`${l[0]}-${l[1]} of ${i} items`}})})]})};export{Ie as default};
//# sourceMappingURL=ProjectIssuesContent-CAmCyjXk.js.map
