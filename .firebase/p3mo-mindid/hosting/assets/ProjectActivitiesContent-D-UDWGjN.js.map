{"version":3,"file":"ProjectActivitiesContent-D-UDWGjN.js","sources":["../../src/app/(protected)/projects/[id]/_components/ProjectActivitiesContent.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Space, Tag, Button, Flex, Typography, Descriptions, Modal } from \"antd\";\nimport { EditOutlined, DeleteOutlined, PlusOutlined, ArrowLeftOutlined } from \"@ant-design/icons\";\nimport { Section, DataTable } from \"admiral\";\nimport { message } from \"antd\";\nimport { makeSource } from \"@/utils/data-table\";\nimport { ActivityForm } from \"@/app/(protected)/projects/_components/activity-form.jsx\";\nimport { projectActivities, getActivityById } from \"@/app/(protected)/projects/_data/activities.js\";\nimport { formatDate } from \"@/utils/date-format\";\n\nconst { Text } = Typography;\n\nconst ProjectActivitiesContent = ({ id, activitiesData, activitiesLoading, filters, readOnly = false }) => {\n  // State to manage view mode: 'list', 'create', 'detail', or 'edit'\n  const [viewMode, setViewMode] = useState(\"list\");\n  const [selectedActivity, setSelectedActivity] = useState(null);\n\n  // Safe filter value extraction with error handling\n  const getSearchValue = () => {\n    try {\n      if (!filters) return \"\";\n      if (typeof filters.search === 'string') return filters.search;\n      if (filters.search && typeof filters.search.toString === 'function') {\n        return filters.search.toString();\n      }\n      return \"\";\n    } catch (error) {\n      console.warn(\"Error extracting search value:\", error);\n      return \"\";\n    }\n  };\n\n  // Activities table columns\n  const activityColumns = [\n    {\n      dataIndex: \"task_id\",\n      key: \"task_id\",\n      title: \"Task ID\",\n      sorter: true,\n      width: 150,\n      fixed: 'left',\n      render: (text, record) => (\n        <Button\n          type=\"link\"\n          onClick={() => {\n            const activityData = getActivityById(record.id);\n            setSelectedActivity(activityData.data);\n            setViewMode('detail');\n          }}\n          style={{ \n            color: '#0F1E3A', \n            textDecoration: 'underline',\n            textDecorationColor: '#0F1E3A',\n            padding: 0,\n            height: 'auto',\n            textAlign: 'left'\n          }}\n        >\n          {text}\n        </Button>\n      ),\n    },\n    {\n      dataIndex: \"fase\",\n      key: \"fase\",\n      title: \"Fase\",\n      sorter: true,\n      width: 140,\n      fixed: 'left',\n      render: (text) => {\n        const colors = {\n          \"Perencanaan\": \"blue\",\n          \"Pengembangan\": \"green\",\n          \"In HPO\": \"orange\",\n          \"FID\": \"purple\",\n        };\n        return <Tag color={colors[text] || \"default\"}>{text}</Tag>;\n      },\n    },\n    {\n      dataIndex: \"aktivitas_bulan_sebelumnya\",\n      key: \"aktivitas_bulan_sebelumnya\",\n      title: \"Aktivitas Bulan Berjalan\",\n      sorter: true,\n      ellipsis: true,\n      width: 300,\n      className: 'aktivitas-bulan-berjalan-header',\n      onHeaderCell: () => ({\n        className: 'aktivitas-bulan-berjalan-header',\n      }),\n    },\n    {\n      dataIndex: \"status_bulan_sebelumnya\",\n      key: \"status_bulan_sebelumnya\",\n      title: \"Status Berjalan\",\n      sorter: true,\n      width: 140,\n      className: 'status-berjalan-header',\n      onHeaderCell: () => ({\n        className: 'status-berjalan-header',\n      }),\n      render: (text) => {\n        const colors = {\n          \"Not Started\": \"default\",\n          \"In Progress\": \"blue\",\n          \"Completed\": \"green\",\n          \"On Hold\": \"orange\",\n          \"Cancelled\": \"red\",\n        };\n        return <Tag color={colors[text] || \"default\"}>{text}</Tag>;\n      },\n    },\n    {\n      dataIndex: \"aktivitas_bulan_berjalan\",\n      key: \"aktivitas_bulan_berjalan\",\n      title: \"Aktivitas Bulan Selanjutnya\",\n      sorter: true,\n      ellipsis: true,\n      width: 300,\n      className: 'aktivitas-bulan-selanjutnya-header',\n      onHeaderCell: () => ({\n        className: 'aktivitas-bulan-selanjutnya-header',\n      }),\n    },\n    {\n      dataIndex: \"status_bulan_berjalan\",\n      key: \"status_bulan_berjalan\",\n      title: \"Status Selanjutnya\",\n      sorter: true,\n      width: 140,\n      className: 'status-selanjutnya-header',\n      onHeaderCell: () => ({\n        className: 'status-selanjutnya-header',\n      }),\n      render: (text) => {\n        const colors = {\n          \"Not Started\": \"default\",\n          \"In Progress\": \"blue\",\n          \"Completed\": \"green\",\n          \"On Hold\": \"orange\",\n          \"Cancelled\": \"red\",\n        };\n        return <Tag color={colors[text] || \"default\"}>{text}</Tag>;\n      },\n    },\n    {\n      dataIndex: \"critical_task\",\n      key: \"critical_task\",\n      title: \"Critical Task\",\n      sorter: true,\n      width: 120,\n      render: (text) => {\n        const isYes = text === \"Yes\" || text === true;\n        return (\n          <Tag color={isYes ? \"green\" : \"red\"}>\n            {isYes ? \"Yes\" : \"No\"}\n          </Tag>\n        );\n      },\n    },\n    ...(!readOnly ? [{\n      dataIndex: \"Action\",\n      title: \"Action\",\n      key: \"Action\",\n      width: 120,\n      fixed: 'right',\n      render: (_, record) => {\n        return (\n          <Flex>\n            <Button\n              type=\"link\"\n              icon={<EditOutlined />}\n              size=\"small\"\n              onClick={() => {\n                const activityData = getActivityById(record.id);\n                setSelectedActivity(activityData.data);\n                setViewMode('edit');\n              }}\n            />\n            <Button\n              type=\"link\"\n              icon={<DeleteOutlined style={{ color: \"red\" }} />}\n              size=\"small\"\n              onClick={() => handleDeleteConfirm(record)}\n            />\n          </Flex>\n        );\n      },\n    }] : []),\n  ];\n\n  // Handle form submission\n  const handleFormSubmit = (values) => {\n    // Check if this is a cancel action\n    if (values && values.__cancel) {\n      setViewMode('list');\n      return;\n    }\n    \n    if (viewMode === 'edit') {\n      // Update activity logic\n      const activityIndex = projectActivities.data.items.findIndex(item => item.id === selectedActivity.id);\n      if (activityIndex !== -1) {\n        projectActivities.data.items[activityIndex] = {\n          ...projectActivities.data.items[activityIndex],\n          ...values,\n          updated_at: new Date().toISOString(),\n        };\n        message.success(\"Activity updated successfully\");\n      }\n    } else {\n      // Create activity logic\n      const newId = String(Math.max(...projectActivities.data.items.map(item => parseInt(item.id)), 0) + 1);\n      const projectActivitiesFiltered = projectActivities.data.items\n        .filter(item => item.project_id === id)\n        .map(item => {\n          const match = item.task_id.match(/TASK-(\\d+)/);\n          return match ? parseInt(match[1]) : 0;\n        });\n      \n      const lastTaskNumber = projectActivitiesFiltered.length > 0 ? Math.max(...projectActivitiesFiltered) : 0;\n      const taskNumber = `TASK-${String(lastTaskNumber + 1).padStart(3, '0')}`;\n      \n      const newActivity = {\n        id: newId,\n        project_id: id,\n        task_id: taskNumber,\n        ...values,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      };\n      \n      projectActivities.data.items.push(newActivity);\n      message.success(\"Activity created successfully\");\n    }\n    setViewMode('list');\n  };\n\n  // Handle back button\n  const handleBack = () => {\n    setViewMode('list');\n  };\n\n  // Handle edit button from detail view\n  const handleEditFromDetail = () => {\n    setViewMode('edit');\n  };\n\n  // Handle delete confirmation\n  const handleDeleteConfirm = (record) => {\n    Modal.confirm({\n      title: 'Konfirmasi Hapus',\n      content: 'Apakah Anda yakin ingin menghapus activity ini?',\n      okText: 'Delete',\n      cancelText: 'Cancel',\n      okType: 'danger',\n      onOk() {\n        const activityIndex = projectActivities.data.items.findIndex(item => item.id === record.id);\n        if (activityIndex !== -1) {\n          projectActivities.data.items.splice(activityIndex, 1);\n          message.success(\"Activity successfully deleted\");\n        }\n      },\n    });\n  };\n\n  // Render detail view\n  if (viewMode === 'detail' && selectedActivity) {\n    return (\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\n        {/* Header with back button and actions */}\n        <Flex align=\"center\" justify=\"space-between\" style={{ width: '100%', paddingTop: '16px', paddingBottom: '16px' }}>\n          <Flex align=\"center\" gap={12}>\n            <Button \n              icon={<ArrowLeftOutlined />} \n              onClick={handleBack}\n              type=\"text\"\n            />\n            <Text strong style={{ fontSize: '18px' }}>\n              Activity Details: {selectedActivity.task_id || \"\"}\n            </Text>\n          </Flex>\n          {!readOnly && (\n            <Flex gap={10}>\n              <Button\n                htmlType=\"button\"\n                onClick={() => handleDeleteConfirm(selectedActivity)}\n                danger\n              >\n                Delete\n              </Button>\n              <Button\n                htmlType=\"button\"\n                type=\"primary\"\n                onClick={handleEditFromDetail}\n              >\n                Edit\n              </Button>\n            </Flex>\n          )}\n        </Flex>\n\n        {/* Activity Details */}\n        <Section bodyStyle={{ padding: 0 }} bordered={false}>\n          <Section title=\"Basic Information\" bodyStyle={{ padding: 24 }}>\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              labelStyle={{ width: '200px' }}\n              contentStyle={{ width: 'calc(50% - 200px)' }}\n              items={[\n                {\n                  key: \"task_id\",\n                  label: \"Task ID\",\n                  children: <Text strong>{selectedActivity.task_id ?? \"-\"}</Text>,\n                },\n                {\n                  key: \"fase\",\n                  label: \"Fase\",\n                  children: (\n                    <Tag color={\n                      selectedActivity.fase === \"Perencanaan\" ? \"blue\" :\n                      selectedActivity.fase === \"Pengembangan\" ? \"green\" :\n                      selectedActivity.fase === \"In HPO\" ? \"orange\" :\n                      selectedActivity.fase === \"FID\" ? \"purple\" : \"default\"\n                    }>\n                      {selectedActivity.fase ?? \"-\"}\n                    </Tag>\n                  ),\n                },\n                {\n                  key: \"bulan_pelaporan\",\n                  label: \"Bulan Pelaporan\",\n                  children: (\n                    <Text strong>{selectedActivity.bulan_pelaporan ? formatDate(selectedActivity.bulan_pelaporan, \"MMMM YYYY\") : \"-\"}</Text>\n                  ),\n                  span: 2,\n                },\n              ]}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n\n          <Section title=\"Activity Progress\" style={{ marginTop: 24 }} bodyStyle={{ padding: 24 }}>\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              labelStyle={{ width: '200px' }}\n              contentStyle={{ width: 'calc(50% - 200px)' }}\n              items={[\n                {\n                  key: \"aktivitas_bulan_sebelumnya\",\n                  label: \"Aktivitas Bulan Berjalan\",\n                  children: <Text strong>{selectedActivity.aktivitas_bulan_sebelumnya ?? \"-\"}</Text>,\n                },\n                {\n                  key: \"status_bulan_sebelumnya\",\n                  label: \"Status Berjalan\",\n                  children: (\n                    <Tag color={\n                      selectedActivity.status_bulan_sebelumnya === \"Not Started\" ? \"default\" :\n                      selectedActivity.status_bulan_sebelumnya === \"In Progress\" ? \"blue\" :\n                      selectedActivity.status_bulan_sebelumnya === \"Completed\" ? \"green\" :\n                      selectedActivity.status_bulan_sebelumnya === \"On Hold\" ? \"orange\" :\n                      selectedActivity.status_bulan_sebelumnya === \"Cancelled\" ? \"red\" : \"default\"\n                    }>\n                      {selectedActivity.status_bulan_sebelumnya ?? \"-\"}\n                    </Tag>\n                  ),\n                },\n                {\n                  key: \"aktivitas_bulan_berjalan\",\n                  label: \"Aktivitas Bulan Selanjutnya\",\n                  children: <Text strong>{selectedActivity.aktivitas_bulan_berjalan ?? \"-\"}</Text>,\n                },\n                {\n                  key: \"status_bulan_berjalan\",\n                  label: \"Status Selanjutnya\",\n                  children: (\n                    <Tag color={\n                      selectedActivity.status_bulan_berjalan === \"Not Started\" ? \"default\" :\n                      selectedActivity.status_bulan_berjalan === \"In Progress\" ? \"blue\" :\n                      selectedActivity.status_bulan_berjalan === \"Completed\" ? \"green\" :\n                      selectedActivity.status_bulan_berjalan === \"On Hold\" ? \"orange\" :\n                      selectedActivity.status_bulan_berjalan === \"Cancelled\" ? \"red\" : \"default\"\n                    }>\n                      {selectedActivity.status_bulan_berjalan ?? \"-\"}\n                    </Tag>\n                  ),\n                },\n              ]}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n\n          <Section title=\"Activity Details\" style={{ marginTop: 24 }} bodyStyle={{ padding: 24 }}>\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              labelStyle={{ width: '200px' }}\n              contentStyle={{ width: 'calc(50% - 200px)' }}\n              items={[\n                {\n                  key: \"pic_aktivitas\",\n                  label: \"PIC Aktivitas\",\n                  children: <Text strong>{selectedActivity.pic_aktivitas ?? \"-\"}</Text>,\n                },\n                {\n                  key: \"tanggal_aktivitas\",\n                  label: \"Tanggal Aktivitas\",\n                  children: (\n                    <Text strong>{selectedActivity.tanggal_aktivitas ? formatDate(selectedActivity.tanggal_aktivitas) : \"-\"}</Text>\n                  ),\n                },\n                {\n                  key: \"aktivitas\",\n                  label: \"Aktivitas\",\n                  children: <Text strong>{selectedActivity.aktivitas ?? \"-\"}</Text>,\n                  span: 2,\n                },\n                {\n                  key: \"critical_task\",\n                  label: \"Critical Task\",\n                  children: (\n                    <Tag color={selectedActivity.critical_task ? \"green\" : \"red\"}>\n                      {selectedActivity.critical_task ? \"Yes\" : \"No\"}\n                    </Tag>\n                  ),\n                },\n                {\n                  key: \"latest_modified\",\n                  label: \"Latest Modified\",\n                  children: (\n                    <Text strong>{selectedActivity.latest_modified ? formatDate(selectedActivity.latest_modified) : \"-\"}</Text>\n                  ),\n                },\n              ]}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n\n          <Section title=\"Documentation\" style={{ marginTop: 24 }} bodyStyle={{ padding: 24 }}>\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              labelStyle={{ width: '200px' }}\n              contentStyle={{ width: 'calc(50% - 200px)' }}\n              items={[\n                {\n                  key: \"keterangan_foto\",\n                  label: \"Keterangan Foto\",\n                  children: <Text strong>{selectedActivity.keterangan_foto ?? \"-\"}</Text>,\n                  span: 2,\n                },\n                {\n                  key: \"keterangan\",\n                  label: \"Keterangan\",\n                  children: <Text strong>{selectedActivity.keterangan ?? \"-\"}</Text>,\n                  span: 2,\n                },\n              ]}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n\n          <Section title=\"System Information\" style={{ marginTop: 24 }} bodyStyle={{ padding: 24 }}>\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              labelStyle={{ width: '200px' }}\n              contentStyle={{ width: 'calc(50% - 200px)' }}\n              items={[\n                {\n                  key: \"created_at\",\n                  label: \"Created At\",\n                  children: (\n                    <Text strong>{selectedActivity.created_at ? formatDate(selectedActivity.created_at) : \"-\"}</Text>\n                  ),\n                },\n                {\n                  key: \"updated_at\",\n                  label: \"Updated At\",\n                  children: (\n                    <Text strong>{selectedActivity.updated_at ? formatDate(selectedActivity.updated_at) : \"-\"}</Text>\n                  ),\n                },\n              ]}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n        </Section>\n      </Space>\n    );\n  }\n\n  // Render create form view\n  if (viewMode === 'create') {\n    return (\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\n        {/* Header with back button */}\n        <Flex align=\"center\" gap={12} style={{ paddingTop: '16px', paddingBottom: '16px' }}>\n          <Button \n            icon={<ArrowLeftOutlined />} \n            onClick={handleBack}\n            type=\"text\"\n          />\n          <Text strong style={{ fontSize: '18px' }}>Create New Activity</Text>\n        </Flex>\n\n        <ActivityForm\n          formProps={{}}\n          error={null}\n          loading={false}\n          isEdit={false}\n          isView={false}\n          initialData={null}\n          onSubmit={handleFormSubmit}\n        />\n      </Space>\n    );\n  }\n\n  // Render edit form view\n  if (viewMode === 'edit' && selectedActivity) {\n    return (\n      <Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\n        {/* Header with back button */}\n        <Flex align=\"center\" gap={12} style={{ paddingTop: '16px', paddingBottom: '16px' }}>\n          <Button \n            icon={<ArrowLeftOutlined />} \n            onClick={handleBack}\n            type=\"text\"\n          />\n          <Text strong style={{ fontSize: '18px' }}>Edit Activity: {selectedActivity.task_id || \"\"}</Text>\n        </Flex>\n\n        <ActivityForm\n          formProps={{}}\n          error={null}\n          loading={false}\n          isEdit={true}\n          isView={false}\n          initialData={selectedActivity}\n          onSubmit={handleFormSubmit}\n        />\n      </Space>\n    );\n  }\n\n  // Render list view\n  return (\n    <Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\n      {/* Activities List with Create Button */}\n      <Section bodyStyle={{ padding: 24 }}>\n        <Flex align=\"center\" justify=\"space-between\" style={{ width: '100%' }}>\n          <Text strong style={{ fontSize: '16px' }}>Current Activities</Text>\n          {!readOnly && (\n            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => setViewMode('create')}>\n              Add New Activity\n            </Button>\n          )}\n        </Flex>\n      </Section>\n      \n      <Section bodyStyle={{ padding: 0 }} bordered={false}>\n        <DataTable\n          rowKey=\"id\"\n          loading={activitiesLoading || activitiesData.loading}\n          source={makeSource(activitiesData.data)}\n          columns={activityColumns}\n          search={getSearchValue()}\n          hideSearch\n          showRowSelection={false}\n          scroll={{ x: 1200 }}\n          pagination={{\n            sticky: true,\n            showSizeChanger: true,\n            showQuickJumper: true,\n            showTotal: (total, range) => `${range[0]}-${range[1]} of ${total} items`,\n          }}\n        />\n      </Section>\n    </Space>\n  );\n};\n\nexport default ProjectActivitiesContent;\n"],"names":["Text","Typography","ProjectActivitiesContent","id","activitiesData","activitiesLoading","filters","readOnly","viewMode","setViewMode","useState","selectedActivity","setSelectedActivity","getSearchValue","error","activityColumns","text","record","jsx","Button","activityData","getActivityById","colors","Tag","isYes","_","Flex","EditOutlined","DeleteOutlined","handleDeleteConfirm","handleFormSubmit","values","activityIndex","projectActivities","item","message","newId","projectActivitiesFiltered","match","lastTaskNumber","taskNumber","newActivity","handleBack","handleEditFromDetail","Modal","jsxs","Space","ArrowLeftOutlined","Section","Descriptions","formatDate","ActivityForm","PlusOutlined","DataTable","makeSource","total","range"],"mappings":"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"}