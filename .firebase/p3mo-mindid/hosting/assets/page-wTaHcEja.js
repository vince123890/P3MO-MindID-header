import{f as b,u as h,a as g,j as o}from"./@react-router-BOJM2k20.js";import{P as m}from"./index-BafWvN44.js";import{I as y}from"./issue-form-BE28AkRn.js";import{g as j,p as n}from"./issues-CS8Fbs9L.js";import{F as x}from"./index-DDk6ch2l.js";import{M as w}from"./index-C_i7UN8L.js";import{s as a}from"./index-Cskjed0c.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-BGD_4JXV.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./index-HUJMorX5.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./PlusOutlined-Dx_yv4bP.js";import"./AntdIcon-DUdM8fG5.js";import"./DeleteOutlined-DO7ccZ5J.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./context-BclqCKk2.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c4420a43-e983-45af-af6b-a23f12cb50d5",e._sentryDebugIdIdentifier="sentry-dbid-c4420a43-e983-45af-af6b-a23f12cb50d5")}catch{}const W=()=>{const{id:e,issueId:t}=b(),d=h(),[l]=x.useForm(),[f,i]=g.useState(!1),r=j(t),u=[{label:"Projects",path:"/projects"},{label:"Project Detail",path:`/projects/${e}`},{label:"Issues",path:`/projects/${e}/issues`},{label:"Edit Issue",path:`/projects/${e}/issues/${t}/update`}],p=c=>{i(!0),setTimeout(()=>{try{if(!r.data){a.error("Issue not found"),i(!1);return}const s=n.data.items.findIndex(I=>I.id===t);s!==-1?(n.data.items[s]={...n.data.items[s],...c,updated_at:new Date().toISOString()},a.success("Issue updated successfully"),d(`/projects/${e}`)):a.error("Issue not found in data")}catch(s){console.error("Update error:",s),a.error("Failed to update issue: "+(s.message||"Unknown error"))}finally{i(!1)}},1e3)};return r.data?o.jsx(m,{title:"Edit Issue",breadcrumbs:u,children:o.jsx(w,{title:`Edit Issue - ${r.data.nomor_issue}`,open:!0,onCancel:()=>d(-1),footer:null,width:1200,centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"}},children:o.jsx(y,{formProps:{form:l,onFinish:p},loading:f,isEdit:!0,initialData:r.data,onSubmit:p})})}):o.jsx(m,{title:"Issue Not Found",breadcrumbs:u,children:o.jsx("div",{children:"Issue not found"})})};export{W as Component,W as default};
//# sourceMappingURL=page-wTaHcEja.js.map
