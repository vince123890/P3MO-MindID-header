{"version":3,"file":"page-ByPv4CZ4.js","sources":["../../src/app/(protected)/user-management/roles/page.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Tag,\n  Button,\n  message,\n} from \"antd\";\nimport { Link, useNavigate } from \"react-router\";\nimport { SearchOutlined, PlusOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { Page, DataTable } from \"admiral\";\nimport { listRoles } from \"../_data\";\nimport { useFilter } from \"@/app/_hooks/datatable/use-filter\";\nimport { makeSource } from \"@/utils/data-table\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\n\nconst RolesPage = () => {\n  const { handleChange, filters } = useFilter();\n  const rolesData = useGetData(listRoles);\n  const [roles, setRoles] = useState(listRoles.data.items);\n  const navigate = useNavigate();\n\n  const renderStatusTag = (status) => {\n    if (!status || status === \"-\") {\n      return <span>-</span>;\n    }\n    const color = status === \"Active\" ? \"#52c41a\" : \"#ff4d4f\";\n    const backgroundColor = status === \"Active\" ? \"#f6ffed\" : \"#fff2f0\";\n    return <Tag style={{ color, backgroundColor, border: 'none' }}>{status}</Tag>;\n  };\n\n  const renderActionButtons = (record) => {\n    return (\n      <Button \n        type=\"text\" \n        icon={<EditOutlined />} \n        onClick={() => {\n          // Navigate to edit page\n          navigate(`/user-management/roles/${record.id}/update`);\n        }}\n      />\n    );\n  };\n\n  const filterComponents = [\n    {\n      label: \"Status\",\n      name: \"status\",\n      type: \"Select\",\n      placeholder: \"Select status\",\n      defaultValue: filters.status,\n      options: [\n        {\n          label: \"Active\",\n          value: \"Active\",\n        },\n        {\n          label: \"Inactive\",\n          value: \"Inactive\",\n        },\n      ],\n    },\n  ];\n\n  const columns = [\n    {\n      title: \"Nama Role\",\n      dataIndex: \"nama_role\",\n      key: \"nama_role\",\n      sorter: true,\n      render: (text, record) => (\n        <Link to={`/user-management/roles/${record.id}`} style={{ color: '#1677ff' }}>\n          <u>{text}</u>\n        </Link>\n      ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      key: \"status\",\n      render: (text) => renderStatusTag(text),\n      sorter: true,\n    },\n    {\n      title: \"Created At\",\n      dataIndex: \"created_at\",\n      key: \"created_at\",\n      sorter: true,\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      render: (_, record) => renderActionButtons(record),\n    },\n  ];\n\n  const breadcrumbs = [\n    {\n      label: \"User Management\",\n      path: \"/user-management/roles\",\n    },\n    {\n      label: \"Daftar Role\",\n      path: \"/user-management/roles\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Daftar Role\"\n      breadcrumbs={breadcrumbs}\n      noStyle\n      topActions={\n        <Link to=\"/user-management/roles/create\">\n          <Button \n            type=\"primary\" \n            icon={<PlusOutlined />}\n          >\n            Tambah Role\n          </Button>\n        </Link>\n      }\n    >\n      <DataTable\n        search={filters.search}\n        searchPlaceholder=\"Search...\"\n        searchIcon={<SearchOutlined />}\n        rowKey=\"id\"\n        columns={columns}\n        source={makeSource({ data: { items: roles } })}\n        onChange={handleChange}\n        loading={rolesData.loading}\n        filterComponents={filterComponents}\n        showRowSelection={false}\n      />\n    </Page>\n  );\n};\n\nexport default RolesPage;\n"],"names":["RolesPage","handleChange","filters","useFilter","rolesData","useGetData","listRoles","roles","setRoles","useState","navigate","useNavigate","renderStatusTag","status","jsx","color","backgroundColor","Tag","renderActionButtons","record","Button","EditOutlined","filterComponents","columns","text","Link","_","breadcrumbs","Page","PlusOutlined","DataTable","SearchOutlined","makeSource"],"mappings":"68CAcA,MAAMA,GAAY,IAAM,CACtB,KAAM,CAAE,aAAAC,EAAc,QAAAC,CAAA,EAAYC,EAAA,EAC5BC,EAAYC,EAAWC,CAAS,EAChC,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAASH,EAAU,KAAK,KAAK,EACjDI,EAAWC,EAAA,EAEXC,EAAmBC,GAAW,CAClC,GAAI,CAACA,GAAUA,IAAW,IACxB,OAAOC,EAAAA,IAAC,QAAK,SAAA,GAAA,CAAC,EAEhB,MAAMC,EAAQF,IAAW,SAAW,UAAY,UAC1CG,EAAkBH,IAAW,SAAW,UAAY,UAC1D,OAAOC,MAACG,GAAI,MAAO,CAAE,MAAAF,EAAO,gBAAAC,EAAiB,OAAQ,MAAA,EAAW,SAAAH,CAAA,CAAO,CACzE,EAEMK,EAAuBC,GAEzBL,EAAAA,IAACM,EAAA,CACC,KAAK,OACL,WAAOC,EAAA,EAAa,EACpB,QAAS,IAAM,CAEbX,EAAS,0BAA0BS,EAAO,EAAE,SAAS,CACvD,CAAA,CAAA,EAKAG,EAAmB,CACvB,CACE,MAAO,SACP,KAAM,SACN,KAAM,SACN,YAAa,gBACb,aAAcpB,EAAQ,OACtB,QAAS,CACP,CACE,MAAO,SACP,MAAO,QAAA,EAET,CACE,MAAO,WACP,MAAO,UAAA,CACT,CACF,CACF,EAGIqB,EAAU,CACd,CACE,MAAO,YACP,UAAW,YACX,IAAK,YACL,OAAQ,GACR,OAAQ,CAACC,EAAML,IACbL,EAAAA,IAACW,EAAA,CAAK,GAAI,0BAA0BN,EAAO,EAAE,GAAI,MAAO,CAAE,MAAO,SAAA,EAC/D,SAAAL,MAAC,IAAA,CAAG,WAAK,CAAA,CACX,CAAA,EAGJ,CACE,MAAO,SACP,UAAW,SACX,IAAK,SACL,OAASU,GAASZ,EAAgBY,CAAI,EACtC,OAAQ,EAAA,EAEV,CACE,MAAO,aACP,UAAW,aACX,IAAK,aACL,OAAQ,EAAA,EAEV,CACE,MAAO,SACP,IAAK,SACL,OAAQ,CAACE,EAAGP,IAAWD,EAAoBC,CAAM,CAAA,CACnD,EAGIQ,EAAc,CAClB,CACE,MAAO,kBACP,KAAM,wBAAA,EAER,CACE,MAAO,cACP,KAAM,wBAAA,CACR,EAGF,OACEb,EAAAA,IAACc,EAAA,CACC,MAAM,cACN,YAAAD,EACA,QAAO,GACP,WACEb,EAAAA,IAACW,EAAA,CAAK,GAAG,gCACP,SAAAX,EAAAA,IAACM,EAAA,CACC,KAAK,UACL,WAAOS,EAAA,EAAa,EACrB,SAAA,aAAA,CAAA,EAGH,EAGF,SAAAf,EAAAA,IAACgB,EAAA,CACC,OAAQ5B,EAAQ,OAChB,kBAAkB,YAClB,iBAAa6B,EAAA,EAAe,EAC5B,OAAO,KACP,QAAAR,EACA,OAAQS,EAAW,CAAE,KAAM,CAAE,MAAOzB,CAAA,EAAS,EAC7C,SAAUN,EACV,QAASG,EAAU,QACnB,iBAAAkB,EACA,iBAAkB,EAAA,CAAA,CACpB,CAAA,CAGN"}