import{f as w,u as E,a,j as c}from"./@react-router-BOJM2k20.js";import{P as u,d as f}from"./index-BafWvN44.js";import{F as S}from"./form-iOAKdLtn.js";import{p as I}from"./index-DSQ8494f.js";import{s as i}from"./index-Cskjed0c.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-BGD_4JXV.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./index-DDk6ch2l.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./index-HUJMorX5.js";import"./index-Ckfbyvnp.js";import"./Table-D1c8ugbT.js";import"./index-DlR_Bwt3.js";import"./index-Dh480BEi.js";import"./index-D7Vx8KJw.js";import"./extendsObject-CT8lAb9A.js";import"./UploadOutlined-ymldMT98.js";import"./AntdIcon-DUdM8fG5.js";import"./FileOutlined-DKbNK0Kz.js";import"./DownloadOutlined-B7YLRgp7.js";import"./DeleteOutlined-DO7ccZ5J.js";import"./InfoCircleFilled-D4ctpFmw.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new t.Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="9278cfef-5ae9-4e96-a352-aee7c66d817a",t._sentryDebugIdIdentifier="sentry-dbid-9278cfef-5ae9-4e96-a352-aee7c66d817a")}catch{}const rt=()=>{const{id:t}=w(),o=E(),[d,p]=a.useState(!1),[j,n]=a.useState(null),[y,g]=a.useState(null),[P,l]=a.useState(!0);a.useEffect(()=>{(async()=>{try{l(!0),await new Promise(r=>setTimeout(r,1e3));const e=I(t);if(e.data){const r=e.data,h={...r,last_sync_date:r.last_sync_date?f(r.last_sync_date):null};g(h)}else i.error("Project not found"),o("/projects")}catch(e){n(e),i.error("Failed to fetch project data"),o("/projects")}finally{l(!1)}})()},[t,o]);const _=async s=>{p(!0),n(null);try{await new Promise(r=>setTimeout(r,1500));const e={...s,last_sync_date:s.last_sync_date?s.last_sync_date.toISOString():null,updated_at:f().toISOString(),dokumen_pendukung:s.dokumen_pendukung||[]};console.log("Project updated:",e),i.success("Project updated successfully"),o(`/projects/${t}`)}catch(e){n(e),i.error("Failed to update project")}finally{p(!1)}},m=[{label:"Projects",path:"/projects"},{label:"Edit Project",path:`/projects/${t}/update`}];if(P)return c.jsx(u,{title:"Edit Project",breadcrumbs:m,loading:!0});const b={onFinish:_,initialValues:y};return c.jsx(u,{title:"Edit Project",breadcrumbs:m,loading:d,children:c.jsx(S,{formProps:b,error:j,loading:d,isEdit:!0})})};export{rt as Component,rt as default};
//# sourceMappingURL=page-suOJg43U.js.map
