import{f as g,u as j,a as y,j as r}from"./@react-router-BOJM2k20.js";import{P as S}from"./index-BafWvN44.js";import{I as w}from"./issue-form-BE28AkRn.js";import{p as o}from"./issues-CS8Fbs9L.js";import{F as x}from"./index-DDk6ch2l.js";import{M as _}from"./index-C_i7UN8L.js";import{s as c}from"./index-Cskjed0c.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-BGD_4JXV.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./index-HUJMorX5.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./PlusOutlined-Dx_yv4bP.js";import"./AntdIcon-DUdM8fG5.js";import"./DeleteOutlined-DO7ccZ5J.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./context-BclqCKk2.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="92a039ec-58a0-48e4-a022-61a63ee51896",e._sentryDebugIdIdentifier="sentry-dbid-92a039ec-58a0-48e4-a022-61a63ee51896")}catch{}const Z=()=>{const{id:e}=g(),t=j(),[u]=x.useForm(),[d,a]=y.useState(!1),l=[{label:"Projects",path:"/projects"},{label:"Project Detail",path:`/projects/${e}`},{label:"Issues",path:`/projects/${e}/issues`},{label:"Create Issue",path:`/projects/${e}/issues/create`}],i=f=>{a(!0),setTimeout(()=>{try{const n=String(Math.max(...o.data.items.map(s=>parseInt(s.id)),0)+1),m=o.data.items.filter(s=>s.project_id===e).map(s=>{const p=s.nomor_issue.match(/ISS-(\d+)/);return p?parseInt(p[1]):0}),h=m.length>0?Math.max(...m):0,I=`ISS-${String(h+1).padStart(3,"0")}`,b={id:n,project_id:e,nomor_issue:I,...f,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o.data.items.push(b),c.success("Issue created successfully"),t(`/projects/${e}`)}catch{c.error("Failed to create issue")}finally{a(!1)}},1e3)};return r.jsx(S,{title:"Create Issue",breadcrumbs:l,children:r.jsx(_,{title:"Create New Issue",open:!0,onCancel:()=>t(-1),footer:null,width:1200,centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"}},children:r.jsx(w,{formProps:{form:u,onFinish:i},loading:d,onSubmit:i})})})};export{Z as Component,Z as default};
//# sourceMappingURL=page-CXduZSwz.js.map
