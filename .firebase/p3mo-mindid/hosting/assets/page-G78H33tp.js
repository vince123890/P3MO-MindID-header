import{j as t,L as n}from"./@react-router-BOJM2k20.js";import{P as g,F as y}from"./index-BafWvN44.js";import{D as h,m as b}from"./data-table-Dk-TAeJX.js";import{u as x}from"./use-filter-DiGg8iQO.js";import{u as j}from"./url-parser-BYclk4Ii.js";import{u as k}from"./use-get-data-K1VuZGkH.js";import{f as D}from"./date-format-C-noHyYW.js";import{a as v}from"./index-BQeEfcN0.js";import{R as d}from"./DeleteOutlined-DO7ccZ5J.js";import{M as m}from"./index-C_i7UN8L.js";import{s as u}from"./index-Cskjed0c.js";import{B as i}from"./index-BHxSUtD9.js";import{R as I}from"./PlusOutlined-Dx_yv4bP.js";import{T as l}from"./index-Y5xvexJH.js";import{R as _}from"./EditOutlined-ILeNmOcc.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-Dh480BEi.js";import"./index-DlR_Bwt3.js";import"./index-DDk6ch2l.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./index-HUJMorX5.js";import"./FilterOutlined-iieb3jrr.js";import"./context-BclqCKk2.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./Skeleton-BKwTcTmI.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./Table-D1c8ugbT.js";import"./index-D7Vx8KJw.js";import"./__vite-browser-external-C2Nt4T9e.js";import"./AntdIcon-DUdM8fG5.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./PlusOutlined-DDuQXVnN.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new a.Error().stack;o&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[o]="2242b0c2-04e8-4f4b-a0e5-14d93a542a57",a._sentryDebugIdIdentifier="sentry-dbid-2242b0c2-04e8-4f4b-a0e5-14d93a542a57")}catch{}const ce=()=>{const{handleChange:a,filters:o}=x(),c=k(v),p=[{dataIndex:"subject",key:"subject",title:"Subject",sorter:!0,render:(s,r)=>t.jsx(n,{to:r.id,children:t.jsx("u",{children:r.subject})})},{dataIndex:"to",title:"To",key:"to",sorter:!1,render:(s,r)=>{const e=r.to||[];return e.length===0?"-":e.length===1?e[0]:e.length<=3?e.join(", "):`${e.slice(0,2).join(", ")} +${e.length-2} more`}},{dataIndex:"cc",title:"CC",key:"cc",sorter:!1,render:(s,r)=>{const e=r.cc||[];return e.length===0?"-":e.length===1?e[0]:e.length<=2?e.join(", "):`${e.slice(0,1).join(", ")} +${e.length-1} more`}},{dataIndex:"via",title:"Via",key:"via",sorter:!0,render:(s,r)=>{if(r.via==="Keduanya")return t.jsxs(t.Fragment,{children:[t.jsx(l,{color:"orange",style:{border:"none"},children:"Apps"}),t.jsx(l,{color:"green",style:{border:"none"},children:"Email"})]});let e="blue";return r.via==="Email"?e="green":r.via==="Apps"&&(e="orange"),t.jsx(l,{color:e,style:{border:"none"},children:r.via})}},{dataIndex:"created_at",title:"Created At",key:"created_at",sorter:!0,render:(s,r)=>D(r.created_at)},{dataIndex:"Action",title:"Action",key:"Action",render:(s,r)=>t.jsxs(y,{children:[t.jsx(n,{to:j("/messaging/:id/update",{id:r.id}),children:t.jsx(i,{type:"link",icon:t.jsx(_,{})})}),t.jsx(i,{type:"link",icon:t.jsx(d,{style:{color:"red"}}),onClick:()=>{m.confirm({title:"Delete Message",content:"Are you sure you want to delete this message?",okText:"Delete",cancelText:"Cancel",okType:"danger",onOk(){u.success("Message successfully deleted")}})}})]})}],f=[{label:"Messaging",path:"/messaging"}];return t.jsx(g,{title:"Messaging",breadcrumbs:f,topActions:t.jsx(n,{to:"/messaging/create",children:t.jsx(i,{type:"primary",icon:t.jsx(I,{}),children:"Compose Message"})}),noStyle:!0,children:t.jsx(h,{filterComponents:[{label:"Via",name:"via",type:"Select",placeholder:"Select delivery method",width:160,defaultValue:o.via,options:[{label:"Apps",value:"Apps"},{label:"Email",value:"Email"},{label:"Keduanya",value:"Keduanya"}]},{label:"Status",name:"status",type:"Select",placeholder:"Select status",width:140,defaultValue:o.status,options:[{label:"Sent",value:"Sent"},{label:"Draft",value:"Draft"}]}],onChange:a,rowKey:"id",loading:c.loading,source:b(c.data),columns:p,search:o.search,showRowSelection:!0,batchActionMenus:[{key:"delete",label:"Delete",onClick:(s,r)=>{m.confirm({title:"Delete Selected Messages",content:"Are you sure you want to delete the selected messages?",okText:"Delete",cancelText:"Cancel",okType:"danger",onOk(){u.success("Selected messages successfully deleted"),r.reset()}})},danger:!0,icon:t.jsx(d,{})}]})})};export{ce as Component,ce as default};
//# sourceMappingURL=page-G78H33tp.js.map
