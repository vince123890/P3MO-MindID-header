{"version":3,"file":"page-DnC5X_2u.js","sources":["../../src/app/(protected)/messaging/[id]/page.jsx"],"sourcesContent":["import { Page, Section } from \"admiral\";\nimport { Space, Button, Descriptions, Flex, message, Tag, Modal } from \"antd\";\nimport { generatePath, Link, useNavigate } from \"react-router\";\nimport { Typography } from \"antd\";\nimport { useParams } from \"react-router\";\n\nimport { formatDate } from \"@/utils/date-format\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { messagingDetail } from \"../_data\";\n\nexport const Component = () => {\n  const navigate = useNavigate();\n  const params = useParams();\n  const { data, loading } = useGetData(messagingDetail(params.id));\n\n  const breadcrumbs = [\n    {\n      label: \"Messaging\",\n      path: \"/messaging\",\n    },\n    {\n      label: `Message Details: ${data?.data?.subject || \"\"}`,\n      path: \"#\",\n    },\n  ];\n\n  const items = [\n    {\n      key: \"subject\",\n      label: \"Subject\",\n      children: <Typography.Text strong>{data?.data?.subject ?? \"-\"}</Typography.Text>,\n    },\n    {\n      key: \"to\",\n      label: \"To\",\n      children: (\n        <Typography.Text strong>\n          {data?.data?.to?.length > 0 ? data.data.to.join(\", \") : \"-\"}\n        </Typography.Text>\n      ),\n    },\n    {\n      key: \"cc\",\n      label: \"CC\",\n      children: (\n        <Typography.Text strong>\n          {data?.data?.cc?.length > 0 ? data.data.cc.join(\", \") : \"-\"}\n        </Typography.Text>\n      ),\n    },\n    {\n      key: \"via\",\n      label: \"Via\",\n      children: (\n        data?.data?.via === \"Keduanya\" ? (\n          <>\n            <Tag color=\"orange\" style={{ border: 'none' }}>Apps</Tag>\n            <Tag color=\"green\" style={{ border: 'none' }}>Email</Tag>\n          </>\n        ) : (\n          <Tag color={\n            data?.data?.via === \"Email\" ? \"green\" : \n            data?.data?.via === \"Apps\" ? \"orange\" : \"blue\"\n          } style={{ border: 'none' }}>\n            {data?.data?.via ?? \"-\"}\n          </Tag>\n        )\n      ),\n    },\n    {\n      key: \"template_used\",\n      label: \"Template Used\",\n      children: (\n        <Typography.Text strong>{data?.data?.template_used ?? \"None\"}</Typography.Text>\n      ),\n    },\n    {\n      key: \"status\",\n      label: \"Status\",\n      children: (\n        <Tag color={data?.data?.status === \"Sent\" ? \"green\" : \"orange\"} style={{ border: 'none' }}>\n          {data?.data?.status ?? \"-\"}\n        </Tag>\n      ),\n    },\n    {\n      key: \"created_at\",\n      label: \"Created At\",\n      children: (\n        <Typography.Text strong>{formatDate(data?.data?.created_at) ?? \"-\"}</Typography.Text>\n      ),\n    },\n    {\n      key: \"updated_at\",\n      label: \"Updated At\",\n      children: (\n        <Typography.Text strong>{formatDate(data?.data?.updated_at) ?? \"-\"}</Typography.Text>\n      ),\n    },\n  ];\n\n  return (\n    <Page\n      topActions={\n        <Flex gap={10}>\n          <Button\n            htmlType=\"button\"\n            onClick={() => {\n              Modal.confirm({\n                title: 'Delete Message',\n                content: 'Are you sure you want to delete this message?',\n                okText: 'Delete',\n                cancelText: 'Cancel',\n                okType: 'danger',\n                onOk() {\n                  message.success(\"Message successfully deleted\");\n                  navigate(\"/messaging\");\n                },\n              });\n            }}\n            danger\n          >\n            Delete\n          </Button>\n          <Link\n            to={generatePath(\"/messaging/:id/update\", {\n              id: params.id,\n            })}\n          >\n            <Button htmlType=\"button\" type=\"primary\">\n              Edit\n            </Button>\n          </Link>\n        </Flex>\n      }\n      title={`Message Details: ${data?.data?.subject || \"\"}`}\n      breadcrumbs={breadcrumbs}\n      goBack={() => navigate(\"/messaging\")}\n      noStyle\n    >\n      <Section loading={loading}>\n        <Space direction=\"vertical\" size=\"middle\" style={{ width: \"100%\" }}>\n          <Section title=\"Message Information\">\n            <Descriptions\n              bordered\n              layout=\"horizontal\"\n              items={items}\n              column={{\n                md: 1,\n                lg: 2,\n                xl: 2,\n                xxl: 2,\n              }}\n            />\n          </Section>\n\n          <Section title=\"Message Content\">\n            <div style={{ \n              border: '1px solid #d9d9d9', \n              borderRadius: '6px', \n              padding: '16px',\n              backgroundColor: '#fafafa',\n              minHeight: '200px'\n            }}>\n              <Typography.Text type=\"secondary\" style={{ fontSize: '12px', display: 'block', marginBottom: '8px' }}>\n                HTML Preview:\n              </Typography.Text>\n              <div \n                style={{ \n                  backgroundColor: 'white', \n                  padding: '16px', \n                  borderRadius: '4px',\n                  border: '1px solid #e8e8e8'\n                }}\n                dangerouslySetInnerHTML={{ \n                  __html: data?.data?.body || '<p style=\"color: #999;\">No content available</p>' \n                }}\n              />\n              \n              <Typography.Text type=\"secondary\" style={{ fontSize: '12px', display: 'block', marginTop: '16px', marginBottom: '8px' }}>\n                Raw HTML Code:\n              </Typography.Text>\n              <div style={{ \n                backgroundColor: '#f5f5f5', \n                padding: '12px', \n                borderRadius: '4px',\n                fontFamily: 'monospace',\n                fontSize: '12px',\n                whiteSpace: 'pre-wrap',\n                wordBreak: 'break-all',\n                maxHeight: '200px',\n                overflow: 'auto',\n                border: '1px solid #e8e8e8'\n              }}>\n                {data?.data?.body || 'No content available'}\n              </div>\n            </div>\n          </Section>\n        </Space>\n      </Section>\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Component","navigate","useNavigate","params","useParams","data","loading","useGetData","messagingDetail","breadcrumbs","_a","items","jsx","Typography","_b","_d","_c","_f","_e","_g","jsxs","Fragment","Tag","_h","_i","_j","_k","_l","_m","formatDate","_n","_o","Page","Flex","Button","Modal","message","Link","generatePath","_p","Section","Space","Descriptions","_q","_r"],"mappings":"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"}