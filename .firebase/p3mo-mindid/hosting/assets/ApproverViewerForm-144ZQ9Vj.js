import{u as R,j as e}from"./@react-router-BOJM2k20.js";import{R as V,C as p,F as v,S as B,D as T}from"./index-BafWvN44.js";import{S as c}from"./index-BGD_4JXV.js";import{l as H}from"./index-CtWbgiUA.js";import{u as z}from"./use-form-error-handling-Dj-OCOIU.js";import{F as l}from"./index-DDk6ch2l.js";import{T as i}from"./index-QOKA2q-x.js";import{S as j}from"./index-HUJMorX5.js";import{B as d}from"./index-BHxSUtD9.js";import{R as k}from"./DeleteOutlined-DO7ccZ5J.js";import{R as P}from"./PlusOutlined-Dx_yv4bP.js";import{M as N}from"./index-C_i7UN8L.js";try{let o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},g=new o.Error().stack;g&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[g]="ba76202b-8626-4aa0-a03a-90abfefe3209",o._sentryDebugIdIdentifier="sentry-dbid-ba76202b-8626-4aa0-a03a-90abfefe3209")}catch{}const re=({formProps:o,error:g,loading:I,isEdit:A,feasibilityStudyId:b})=>{const[_]=l.useForm(),w=R();z(g,({key:a,message:n})=>_.setFields([{name:a,errors:[n]}]));const f=[{label:"PT Aneka Tambang Tbk",value:"PT Aneka Tambang Tbk"},{label:"PT Bukit Asam Tbk",value:"PT Bukit Asam Tbk"},{label:"PT Freeport Indonesia",value:"PT Freeport Indonesia"},{label:"PT Indonesia Asahan Aluminium (Inalum)",value:"PT Indonesia Asahan Aluminium (Inalum)"},{label:"PT Timah Tbk",value:"PT Timah Tbk"},{label:"PT Vale Indonesia",value:"PT Vale Indonesia"}],C=[{label:"Tim Engineering",value:"tim_engineering"},{label:"Tim Construction",value:"tim_construction"},{label:"Tim Operations",value:"tim_operations"},{label:"Tim Finance",value:"tim_finance"},{label:"Tim IT & Digital",value:"tim_it_digital"},{label:"Tim HSE (Health Safety Environment)",value:"tim_hse"},{label:"Tim Procurement",value:"tim_procurement"},{label:"Tim Legal & Compliance",value:"tim_legal"}],M=[{label:"Ahmad Rizky (PMO AH)",value:"ahmad_rizky_pmo_ah"},{label:"Siti Nurhaliza (PMO AH)",value:"siti_nurhaliza_pmo_ah"},{label:"Budi Santoso (PMO AH)",value:"budi_santoso_pmo_ah"},{label:"Dewi Sartika (PMO AH)",value:"dewi_sartika_pmo_ah"},{label:"Eko Prasetyo (PMO AH)",value:"eko_prasetyo_pmo_ah"}],O=[{label:"Agus Setiawan (PMO Mind ID)",value:"agus_setiawan_pmo_mind"},{label:"Rina Kartika (PMO Mind ID)",value:"rina_kartika_pmo_mind"},{label:"Dani Kurniawan (PMO Mind ID)",value:"dani_kurniawan_pmo_mind"},{label:"Lina Marlina (PMO Mind ID)",value:"lina_marlina_pmo_mind"},{label:"Hendra Wijaya (PMO Mind ID)",value:"hendra_wijaya_pmo_mind"}],D=[{label:"Fajar Nugroho",value:"fajar_nugroho"},{label:"Maya Sari",value:"maya_sari"},{label:"Riko Pratama",value:"riko_pratama"},{label:"Nina Anggraini",value:"nina_anggraini"},{label:"Yoga Permana",value:"yoga_permana"},{label:"Tika Rahayu",value:"tika_rahayu"},{label:"Indra Gunawan",value:"indra_gunawan"},{label:"Sari Wulandari",value:"sari_wulandari"}],r=b?H.data.items.find(a=>a.id===parseInt(b)):null,m=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),F=r?[{key:"investment_name",label:"Investment Name",children:e.jsx(i.Text,{strong:!0,children:(r==null?void 0:r.investment_name)??"-"})},{key:"company",label:"Company",children:e.jsx(i.Text,{strong:!0,children:(r==null?void 0:r.company)??"-"})},{key:"investment_code",label:"Investment Code",children:e.jsx(i.Text,{strong:!0,children:(r==null?void 0:r.investment_code)??"-"})},{key:"project_code",label:"Project Code",children:e.jsx(i.Text,{strong:!0,children:(r==null?void 0:r.project_code)??"-"})}]:[],q=r?[{key:"capex",label:"CAPEX",children:e.jsx(i.Text,{strong:!0,children:m(r==null?void 0:r.capex)??"-"})},{key:"opex",label:"OPEX",children:e.jsx(i.Text,{strong:!0,children:m(r==null?void 0:r.opex)??"-"})},{key:"npv",label:"NPV",children:e.jsx(i.Text,{strong:!0,children:m(r==null?void 0:r.npv)??"-"})},{key:"irr",label:"IRR",children:e.jsx(i.Text,{strong:!0,children:r!=null&&r.irr?`${r.irr}%`:"-"})}]:[],L=()=>{w(b?`/master-data/feasibility-studies/${b}`:"/master-data/feasibility-studies")},E=()=>{_.validateFields().then(a=>{N.confirm({title:"Konfirmasi Tambah Approver & Viewer",width:800,content:e.jsxs(B,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsx("div",{children:e.jsx(i.Text,{strong:!0,children:r?"Apakah Anda yakin ingin menambahkan Approver & Viewer untuk feasibility study ini?":"Apakah Anda yakin ingin menambahkan Approver & Viewer baru?"})}),r?e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Basic Information",children:e.jsx(T,{bordered:!0,layout:"horizontal",items:F,column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(c,{title:"Financial Information",children:e.jsx(T,{bordered:!0,layout:"horizontal",items:q,column:{md:1,lg:2,xl:2,xxl:2}})})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Basic Information",children:e.jsx(T,{bordered:!0,layout:"horizontal",items:[{key:"investment_name",label:"Investment Name",children:e.jsx(i.Text,{strong:!0,children:"Digital Transformation Platform"})},{key:"company",label:"Company",children:e.jsx(i.Text,{strong:!0,children:"PT Mind ID Indonesia"})},{key:"investment_code",label:"Investment Code",children:e.jsx(i.Text,{strong:!0,children:"DTP-2024-001"})},{key:"project_code",label:"Project Code",children:e.jsx(i.Text,{strong:!0,children:"PRJ-DTP-001"})}],column:{md:1,lg:2,xl:2,xxl:2}})}),e.jsx(c,{title:"Financial Information",children:e.jsx(T,{bordered:!0,layout:"horizontal",items:[{key:"capex",label:"CAPEX",children:e.jsx(i.Text,{strong:!0,children:m(5e10)})},{key:"opex",label:"OPEX",children:e.jsx(i.Text,{strong:!0,children:m(8e9)})},{key:"npv",label:"NPV",children:e.jsx(i.Text,{strong:!0,children:m(12e9)})},{key:"irr",label:"IRR",children:e.jsx(i.Text,{strong:!0,children:"22.5%"})}],column:{md:1,lg:2,xl:2,xxl:2}})})]})]}),okText:"Lanjutkan",cancelText:"Batal",onOk(){o.onFinish&&o.onFinish(a)}})}).catch(a=>{})};return e.jsxs(l,{...o,form:_,layout:"vertical",children:[e.jsx(c,{children:e.jsx(c,{title:"Approver & Viewer Information",children:e.jsxs(V,{gutter:16,children:[e.jsx(p,{span:12,children:e.jsx(l.Item,{label:"Perusahaan",name:"perusahaan",rules:[{required:!0,message:"Perusahaan is required"}],children:e.jsx(j,{placeholder:"Pilih Perusahaan",options:f,showSearch:!0,filterOption:(a,n)=>((n==null?void 0:n.label)??"").toLowerCase().includes(a.toLowerCase())})})}),e.jsx(p,{span:12,children:e.jsx(l.Item,{label:"Tim Project",name:"tim_project",rules:[{required:!0,message:"Tim Project is required"}],children:e.jsx(j,{placeholder:"Pilih Tim Project",options:C,showSearch:!0,filterOption:(a,n)=>((n==null?void 0:n.label)??"").toLowerCase().includes(a.toLowerCase())})})}),e.jsx(p,{span:12,children:e.jsx(l.Item,{label:"Approver PMO AH",required:!0,children:e.jsx(l.List,{name:"approver_pmo_ah",rules:[{validator:async(a,n)=>{if(!n||n.length<1)return Promise.reject(new Error("At least one Approver PMO AH is required"))}}],children:(a,{add:n,remove:u},{errors:h})=>e.jsxs(e.Fragment,{children:[a.map((t,y)=>e.jsx(l.Item,{required:!1,style:{marginBottom:8},children:e.jsxs(v,{gap:8,children:[e.jsx(l.Item,{...t,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Approver PMO AH is required"}],noStyle:!0,children:e.jsx(j,{placeholder:"Pilih Approver PMO AH",options:M,showSearch:!0,style:{width:"100%"},filterOption:(x,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(x.toLowerCase())})}),a.length>1&&e.jsx(d,{type:"text",danger:!0,icon:e.jsx(k,{}),onClick:()=>u(t.name)})]})},t.key)),e.jsxs(l.Item,{children:[e.jsx(d,{type:"dashed",onClick:()=>n(),block:!0,icon:e.jsx(P,{}),children:"Tambah Approver PMO AH"}),e.jsx(l.ErrorList,{errors:h})]})]})})})}),e.jsx(p,{span:12,children:e.jsx(l.Item,{label:"Approver PMO Mind ID",required:!0,children:e.jsx(l.List,{name:"approver_pmo_mind_id",rules:[{validator:async(a,n)=>{if(!n||n.length<1)return Promise.reject(new Error("At least one Approver PMO Mind ID is required"))}}],children:(a,{add:n,remove:u},{errors:h})=>e.jsxs(e.Fragment,{children:[a.map((t,y)=>e.jsx(l.Item,{required:!1,style:{marginBottom:8},children:e.jsxs(v,{gap:8,children:[e.jsx(l.Item,{...t,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Approver PMO Mind ID is required"}],noStyle:!0,children:e.jsx(j,{placeholder:"Pilih Approver PMO Mind ID",options:O,showSearch:!0,style:{width:"100%"},filterOption:(x,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(x.toLowerCase())})}),a.length>1&&e.jsx(d,{type:"text",danger:!0,icon:e.jsx(k,{}),onClick:()=>u(t.name)})]})},t.key)),e.jsxs(l.Item,{children:[e.jsx(d,{type:"dashed",onClick:()=>n(),block:!0,icon:e.jsx(P,{}),children:"Tambah Approver PMO Mind ID"}),e.jsx(l.ErrorList,{errors:h})]})]})})})}),e.jsx(p,{span:12,children:e.jsx(l.Item,{label:"Viewer",required:!0,children:e.jsx(l.List,{name:"viewer",rules:[{validator:async(a,n)=>{if(!n||n.length<1)return Promise.reject(new Error("At least one Viewer is required"))}}],children:(a,{add:n,remove:u},{errors:h})=>e.jsxs(e.Fragment,{children:[a.map((t,y)=>e.jsx(l.Item,{required:!1,style:{marginBottom:8},children:e.jsxs(v,{gap:8,children:[e.jsx(l.Item,{...t,validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Viewer is required"}],noStyle:!0,children:e.jsx(j,{placeholder:"Pilih Viewer",options:D,showSearch:!0,style:{width:"100%"},filterOption:(x,s)=>((s==null?void 0:s.label)??"").toLowerCase().includes(x.toLowerCase())})}),a.length>1&&e.jsx(d,{type:"text",danger:!0,icon:e.jsx(k,{}),onClick:()=>u(t.name)})]})},t.key)),e.jsxs(l.Item,{children:[e.jsx(d,{type:"dashed",onClick:()=>n(),block:!0,icon:e.jsx(P,{}),children:"Tambah Viewer"}),e.jsx(l.ErrorList,{errors:h})]})]})})})})]})})}),e.jsxs(v,{justify:"flex-end",gap:16,style:{marginTop:24},children:[e.jsx(d,{type:"text",disabled:I,onClick:L,children:"Cancel"}),e.jsx(d,{type:"primary",onClick:E,loading:I,children:A?"Update Approver & Viewer":"Add Approver & Viewer"})]})]})};export{re as A};
//# sourceMappingURL=ApproverViewerForm-144ZQ9Vj.js.map
