{"version":3,"file":"page-u2qQCyez.js","sources":["../../src/app/(protected)/projects/_components/CompanyDistributionContent.jsx","../../src/app/(protected)/strategic-capital-project/page.jsx"],"sourcesContent":["import { Card, Row, Col, Typography, Space, Tooltip, Select, Tag, message } from \"antd\";\nimport { InfoCircleOutlined, CopyOutlined } from \"@ant-design/icons\";\nimport { useNavigate } from \"react-router\";\nimport { allProjects } from \"../_data\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { useState, useMemo } from \"react\";\n\nconst { Text } = Typography;\n\nconst CompanyDistributionContent = ({ linkPrefix = \"/projects\" }) => {\n  const allProjectsData = useGetData(allProjects);\n  const [selectedCompany, setSelectedCompany] = useState(\"All\");\n  const navigate = useNavigate();\n\n  const allItems = allProjectsData.data?.data?.items || [];\n  \n  // Get unique companies\n  const companies = useMemo(() => {\n    const uniqueCompanies = [...new Set(allItems.map(p => p.company))].filter(Boolean);\n    return [\n      { label: \"All Company\", value: \"All\" },\n      ...uniqueCompanies.map(company => ({ label: company, value: company }))\n    ];\n  }, [allItems]);\n\n  // Filter projects based on selected company\n  const projects = useMemo(() => {\n    if (selectedCompany === \"All\") {\n      return allItems;\n    }\n    return allItems.filter(project => project.company === selectedCompany);\n  }, [allItems, selectedCompany]);\n  \n  // Copy to clipboard function\n  const copyToClipboard = (text, field) => {\n    navigator.clipboard.writeText(text).then(() => {\n      message.success(`${field} copied to clipboard!`);\n    }).catch(() => {\n      message.error(`Failed to copy ${field}`);\n    });\n  };\n  \n  // Handle card click - navigate to project detail with breadcrumb\n  const handleCardClick = (projectId) => {\n    navigate(`${linkPrefix}/${projectId}`);\n  };\n  \n  console.log(\"CompanyDistributionContent rendering, projects:\", projects.length);\n\n  return (\n    <Space direction=\"vertical\" size=\"large\" style={{ width: \"100%\" }}>\n      <Card \n        headStyle={{ borderBottom: \"none\" }}\n        bodyStyle={{ paddingTop: 0 }}\n        title={\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <span>Sebaran Project per Company</span>\n            <Select\n              value={selectedCompany}\n              onChange={setSelectedCompany}\n              options={companies}\n              style={{ width: 200 }}\n              placeholder=\"Select Company\"\n            />\n          </div>\n        }\n        loading={allProjectsData.loading}\n      >\n        <Row gutter={[16, 16]}>\n          {projects.map((project) => {\n            // Get status indicator color\n            const getStatusIndicatorColor = (status) => {\n              switch (status) {\n                case \"On Track\":\n                  return \"green\";\n                case \"At Risk\":\n                  return \"orange\";\n                case \"Off Track\":\n                  return \"red\";\n                default:\n                  return \"default\";\n              }\n            };\n\n            // Get workflow status color\n            const getWorkflowStatusColor = (status) => {\n              switch (status) {\n                case \"Active\":\n                  return \"green\";\n                case \"Pending\":\n                  return \"orange\";\n                case \"Completed\":\n                  return \"blue\";\n                case \"Cancelled\":\n                  return \"red\";\n                default:\n                  return \"default\";\n              }\n            };\n\n            // Get days remaining color\n            const getDaysRemainingColor = (days) => {\n              if (days === null || days === undefined) return \"default\";\n              if (days > 90) return \"green\";\n              if (days > 30) return \"orange\";\n              return \"red\";\n            };\n\n            // Check if project is affiliate (add to some projects for demo)\n            const isAffiliate = [\"1\", \"3\", \"5\"].includes(project.id);\n\n            return (\n              <Col xs={24} sm={12} lg={6} key={project.id}>\n                <Tooltip\n                  title={\n                    <div>\n                      <div><strong>Status Indicator:</strong> {project.status_indicator || \"Unknown\"}</div>\n                      <div><strong>Workflow Status:</strong> {project.status || \"Unknown\"}</div>\n                      <div><strong>Days Remaining till COD:</strong> {project.days_remaining_till_cod !== null && project.days_remaining_till_cod !== undefined ? `${project.days_remaining_till_cod} days` : \"-\"}</div>\n                    </div>\n                  }\n                  placement=\"top\"\n                >\n                  <Card\n                    size=\"small\"\n                    hoverable\n                    style={{\n                      borderRadius: \"8px\",\n                      boxShadow: \"0 2px 8px rgba(0,0,0,0.06)\",\n                      cursor: \"pointer\",\n                    }}\n                    onClick={() => handleCardClick(project.id)}\n                  >\n                    <Space direction=\"vertical\" size=\"small\" style={{ width: \"100%\" }}>\n                      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\" }}>\n                        <div style={{ flex: 1 }}>\n                          <Text type=\"secondary\" style={{ fontSize: \"12px\" }}>Project Code</Text>\n                          <br />\n                          <Text \n                            style={{ \n                              fontWeight: \"bold\",\n                              fontSize: \"14px\",\n                              color: \"#000\"\n                            }}\n                          >\n                            {project.project_code}\n                          </Text>\n                        </div>\n                        {isAffiliate && (\n                          <Tag color=\"blue\" style={{ fontSize: \"10px\", marginTop: \"16px\" }}>\n                            Affiliate\n                          </Tag>\n                        )}\n                      </div>\n\n                      <div>\n                        <Text type=\"secondary\" style={{ fontSize: \"12px\" }}>Project Name</Text>\n                        <br />\n                        <div style={{ display: \"flex\", alignItems: \"flex-start\", gap: \"4px\" }}>\n                          <Text \n                            style={{ \n                              fontSize: \"13px\",\n                              display: \"-webkit-box\",\n                              WebkitBoxOrient: \"vertical\",\n                              WebkitLineClamp: 3,\n                              overflow: \"hidden\",\n                              textOverflow: \"ellipsis\",\n                              lineHeight: \"1.4\",\n                              flex: 1\n                            }}\n                            title={project.business_initiative_name}\n                          >\n                            {project.business_initiative_name}\n                          </Text>\n                          <Tooltip title=\"Copy Project Name\">\n                            <CopyOutlined \n                              style={{ \n                                color: \"#999\", \n                                cursor: \"pointer\", \n                                fontSize: \"12px\",\n                                marginTop: \"2px\",\n                                flexShrink: 0\n                              }}\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                copyToClipboard(project.business_initiative_name, \"Project Name\");\n                              }}\n                            />\n                          </Tooltip>\n                        </div>\n                      </div>\n\n                      <div>\n                        <Text type=\"secondary\" style={{ fontSize: \"12px\" }}>Company</Text>\n                        <br />\n                        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"4px\" }}>\n                          <Text strong style={{ fontSize: \"13px\", flex: 1 }}>\n                            {project.company}\n                          </Text>\n                          <Tooltip title=\"Copy Company\">\n                            <CopyOutlined \n                              style={{ \n                                color: \"#999\", \n                                cursor: \"pointer\", \n                                fontSize: \"12px\",\n                                flexShrink: 0\n                              }}\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                copyToClipboard(project.company, \"Company\");\n                              }}\n                            />\n                          </Tooltip>\n                        </div>\n                      </div>\n\n                      <div style={{ textAlign: \"center\", marginTop: \"8px\", paddingTop: \"8px\", borderTop: \"1px solid #f0f0f0\" }}>\n                        <InfoCircleOutlined style={{ color: \"#999\" }} />\n                        <Text style={{ fontSize: \"11px\", color: \"#999\", marginLeft: \"4px\" }}>\n                          Click card for details\n                        </Text>\n                      </div>\n                    </Space>\n                  </Card>\n                </Tooltip>\n              </Col>\n            );\n          })}\n        </Row>\n      </Card>\n    </Space>\n  );\n};\n\nexport default CompanyDistributionContent;\n","import { Suspense } from \"react\";\nimport { Page, Section } from \"admiral\";\nimport CompanyDistributionContent from \"../projects/_components/CompanyDistributionContent\";\n\nexport const Component = () => {\n\n  const breadcrumbs = [\n    {\n      label: \"Dashboard\",\n      path: \"/dashboard\",\n    },\n    {\n      label: \"Projects\",\n      path: \"/strategic-capital-project\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Projects\"\n      breadcrumbs={breadcrumbs}\n      noStyle\n    >\n      <Section loading={false}>\n        <Suspense fallback={<div>Loading company distribution...</div>}>\n          <CompanyDistributionContent linkPrefix=\"/strategic-capital-project\" />\n        </Suspense>\n      </Section>\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Text","Typography","CompanyDistributionContent","linkPrefix","allProjectsData","useGetData","allProjects","selectedCompany","setSelectedCompany","useState","navigate","useNavigate","allItems","_b","_a","companies","useMemo","uniqueCompanies","p","company","projects","project","copyToClipboard","text","field","message","handleCardClick","projectId","jsx","Space","Card","jsxs","Select","Row","isAffiliate","Col","Tooltip","Tag","CopyOutlined","e","InfoCircleOutlined","Component","breadcrumbs","Page","Section","Suspense"],"mappings":"+pCAOA,KAAM,CAAE,KAAAA,GAASC,EAEXC,EAA6B,CAAC,CAAE,WAAAC,EAAa,eAAkB,SACnE,MAAMC,EAAkBC,EAAWC,CAAW,EACxC,CAACC,EAAiBC,CAAkB,EAAIC,EAAAA,SAAS,KAAK,EACtDC,EAAWC,EAAA,EAEXC,IAAWC,GAAAC,EAAAV,EAAgB,OAAhB,YAAAU,EAAsB,OAAtB,YAAAD,EAA4B,QAAS,CAAA,EAGhDE,EAAYC,EAAAA,QAAQ,IAAM,CAC9B,MAAMC,EAAkB,CAAC,GAAG,IAAI,IAAIL,EAAS,IAAIM,GAAKA,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,OAAO,EACjF,MAAO,CACL,CAAE,MAAO,cAAe,MAAO,KAAA,EAC/B,GAAGD,EAAgB,IAAIE,IAAY,CAAE,MAAOA,EAAS,MAAOA,GAAU,CAAA,CAE1E,EAAG,CAACP,CAAQ,CAAC,EAGPQ,EAAWJ,EAAAA,QAAQ,IACnBT,IAAoB,MACfK,EAEFA,EAAS,OAAOS,GAAWA,EAAQ,UAAYd,CAAe,EACpE,CAACK,EAAUL,CAAe,CAAC,EAGxBe,EAAkB,CAACC,EAAMC,IAAU,CACvC,UAAU,UAAU,UAAUD,CAAI,EAAE,KAAK,IAAM,CAC7CE,EAAQ,QAAQ,GAAGD,CAAK,uBAAuB,CACjD,CAAC,EAAE,MAAM,IAAM,CACbC,EAAQ,MAAM,kBAAkBD,CAAK,EAAE,CACzC,CAAC,CACH,EAGME,EAAmBC,GAAc,CACrCjB,EAAS,GAAGP,CAAU,IAAIwB,CAAS,EAAE,CACvC,EAEA,eAAQ,IAAI,kDAAmDP,EAAS,MAAM,EAG5EQ,EAAAA,IAACC,EAAA,CAAM,UAAU,WAAW,KAAK,QAAQ,MAAO,CAAE,MAAO,MAAA,EACvD,SAAAD,EAAAA,IAACE,EAAA,CACC,UAAW,CAAE,aAAc,MAAA,EAC3B,UAAW,CAAE,WAAY,CAAA,EACzB,MACEC,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,QAAA,EAC1E,SAAA,CAAAH,EAAAA,IAAC,QAAK,SAAA,6BAAA,CAA2B,EACjCA,EAAAA,IAACI,EAAA,CACC,MAAOzB,EACP,SAAUC,EACV,QAASO,EACT,MAAO,CAAE,MAAO,GAAA,EAChB,YAAY,gBAAA,CAAA,CACd,EACF,EAEF,QAASX,EAAgB,QAEzB,SAAAwB,EAAAA,IAACK,EAAA,CAAI,OAAQ,CAAC,GAAI,EAAE,EACjB,SAAAb,EAAS,IAAKC,GAAY,CAwCzB,MAAMa,EAAc,CAAC,IAAK,IAAK,GAAG,EAAE,SAASb,EAAQ,EAAE,EAEvD,aACGc,EAAA,CAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EACvB,SAAAP,EAAAA,IAACQ,EAAA,CACC,aACG,MAAA,CACC,SAAA,CAAAL,OAAC,MAAA,CAAI,SAAA,CAAAH,EAAAA,IAAC,UAAO,SAAA,mBAAA,CAAiB,EAAS,IAAEP,EAAQ,kBAAoB,SAAA,EAAU,SAC9E,MAAA,CAAI,SAAA,CAAAO,EAAAA,IAAC,UAAO,SAAA,kBAAA,CAAgB,EAAS,IAAEP,EAAQ,QAAU,SAAA,EAAU,SACnE,MAAA,CAAI,SAAA,CAAAO,EAAAA,IAAC,UAAO,SAAA,0BAAA,CAAwB,EAAS,IAAEP,EAAQ,0BAA4B,MAAQA,EAAQ,0BAA4B,OAAY,GAAGA,EAAQ,uBAAuB,QAAU,GAAA,CAAA,CAAI,CAAA,EAC9L,EAEF,UAAU,MAEV,SAAAO,EAAAA,IAACE,EAAA,CACC,KAAK,QACL,UAAS,GACT,MAAO,CACL,aAAc,MACd,UAAW,6BACX,OAAQ,SAAA,EAEV,QAAS,IAAMJ,EAAgBL,EAAQ,EAAE,EAEzC,SAAAU,EAAAA,KAACF,EAAA,CAAM,UAAU,WAAW,KAAK,QAAQ,MAAO,CAAE,MAAO,MAAA,EACvD,SAAA,CAAAE,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,gBAAiB,WAAY,YAAA,EAC1E,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,KAAM,GAClB,SAAA,CAAAH,EAAAA,IAAC5B,EAAA,CAAK,KAAK,YAAY,MAAO,CAAE,SAAU,MAAA,EAAU,SAAA,cAAA,CAAY,QAC/D,KAAA,EAAG,EACJ4B,EAAAA,IAAC5B,EAAA,CACC,MAAO,CACL,WAAY,OACZ,SAAU,OACV,MAAO,MAAA,EAGR,SAAAqB,EAAQ,YAAA,CAAA,CACX,EACF,EACCa,GACCN,EAAAA,IAACS,EAAA,CAAI,MAAM,OAAO,MAAO,CAAE,SAAU,OAAQ,UAAW,MAAA,EAAU,SAAA,WAAA,CAElE,CAAA,EAEJ,SAEC,MAAA,CACC,SAAA,CAAAT,EAAAA,IAAC5B,EAAA,CAAK,KAAK,YAAY,MAAO,CAAE,SAAU,MAAA,EAAU,SAAA,cAAA,CAAY,QAC/D,KAAA,EAAG,EACJ+B,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,aAAc,IAAK,KAAA,EAC5D,SAAA,CAAAH,EAAAA,IAAC5B,EAAA,CACC,MAAO,CACL,SAAU,OACV,QAAS,cACT,gBAAiB,WACjB,gBAAiB,EACjB,SAAU,SACV,aAAc,WACd,WAAY,MACZ,KAAM,CAAA,EAER,MAAOqB,EAAQ,yBAEd,SAAAA,EAAQ,wBAAA,CAAA,EAEXO,EAAAA,IAACQ,EAAA,CAAQ,MAAM,oBACb,SAAAR,EAAAA,IAACU,EAAA,CACC,MAAO,CACL,MAAO,OACP,OAAQ,UACR,SAAU,OACV,UAAW,MACX,WAAY,CAAA,EAEd,QAAUC,GAAM,CACdA,EAAE,gBAAA,EACFjB,EAAgBD,EAAQ,yBAA0B,cAAc,CAClE,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAO,EAAAA,IAAC5B,EAAA,CAAK,KAAK,YAAY,MAAO,CAAE,SAAU,MAAA,EAAU,SAAA,SAAA,CAAO,QAC1D,KAAA,EAAG,EACJ+B,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,KAAA,EACxD,SAAA,CAAAH,EAAAA,IAAC5B,EAAA,CAAK,OAAM,GAAC,MAAO,CAAE,SAAU,OAAQ,KAAM,CAAA,EAC3C,SAAAqB,EAAQ,OAAA,CACX,EACAO,EAAAA,IAACQ,EAAA,CAAQ,MAAM,eACb,SAAAR,EAAAA,IAACU,EAAA,CACC,MAAO,CACL,MAAO,OACP,OAAQ,UACR,SAAU,OACV,WAAY,CAAA,EAEd,QAAUC,GAAM,CACdA,EAAE,gBAAA,EACFjB,EAAgBD,EAAQ,QAAS,SAAS,CAC5C,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAEAU,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,UAAW,SAAU,UAAW,MAAO,WAAY,MAAO,UAAW,mBAAA,EACjF,SAAA,CAAAH,EAAAA,IAACY,EAAA,CAAmB,MAAO,CAAE,MAAO,QAAU,EAC9CZ,EAAAA,IAAC5B,EAAA,CAAK,MAAO,CAAE,SAAU,OAAQ,MAAO,OAAQ,WAAY,OAAS,SAAA,wBAAA,CAErE,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAhH+BqB,EAAQ,EAiHzC,CAEJ,CAAC,CAAA,CACH,CAAA,CAAA,EAEJ,CAEJ,ECpOaoB,GAAY,IAAM,CAE7B,MAAMC,EAAc,CAClB,CACE,MAAO,YACP,KAAM,YAAA,EAER,CACE,MAAO,WACP,KAAM,4BAAA,CACR,EAGF,OACEd,EAAAA,IAACe,EAAA,CACC,MAAM,WACN,YAAAD,EACA,QAAO,GAEP,eAACE,EAAA,CAAQ,QAAS,GAChB,SAAAhB,MAACiB,EAAAA,UAAS,SAAUjB,EAAAA,IAAC,MAAA,CAAI,SAAA,kCAA+B,EACtD,SAAAA,EAAAA,IAAC1B,EAAA,CAA2B,WAAW,4BAAA,CAA6B,EACtE,CAAA,CACF,CAAA,CAAA,CAGN"}