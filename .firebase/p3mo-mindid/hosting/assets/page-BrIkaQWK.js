import{a as b,j as t,L as g}from"./@react-router-BOJM2k20.js";import{P as x}from"./index-BafWvN44.js";import{D as y,m as _}from"./data-table-Dk-TAeJX.js";import{u as j}from"./use-filter-DiGg8iQO.js";import{u as C}from"./use-get-data-K1VuZGkH.js";import{a as v}from"./index-DSQ8494f.js";import{T as i}from"./index-Y5xvexJH.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-Dh480BEi.js";import"./index-DlR_Bwt3.js";import"./index-DDk6ch2l.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./index-HUJMorX5.js";import"./FilterOutlined-iieb3jrr.js";import"./context-BclqCKk2.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./Skeleton-BKwTcTmI.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./Table-D1c8ugbT.js";import"./index-D7Vx8KJw.js";import"./__vite-browser-external-C2Nt4T9e.js";try{let o=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new o.Error().stack;r&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[r]="41979637-374f-489b-9b46-88145d431152",o._sentryDebugIdIdentifier="sentry-dbid-41979637-374f-489b-9b46-88145d431152")}catch{}const Q=()=>{const{handleChange:o,filters:r}=j(),n=C(v),m=b.useMemo(()=>{var l,d;if(!r.search||r.search.length<1||!((d=(l=n.data)==null?void 0:l.data)!=null&&d.items))return[];const e=n.data.data.items,s=[];return e.forEach(a=>{var c,u;(c=a.project_code)!=null&&c.toLowerCase().includes(r.search.toLowerCase())&&s.push({value:a.project_code,label:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Code:"})," ",a.project_code]}),t.jsx("span",{style:{color:"#999",fontSize:"12px"},children:a.company})]})}),(u=a.business_initiative_name)!=null&&u.toLowerCase().includes(r.search.toLowerCase())&&s.push({value:a.business_initiative_name,label:t.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Initiative:"})," ",a.business_initiative_name]}),t.jsx("span",{style:{color:"#999",fontSize:"12px"},children:a.project_code})]})})}),s.slice(0,10)},[r.search,n.data]),p=e=>{switch(e){case"Active":return"green";case"Pending":return"orange";case"Completed":return"blue";case"Cancelled":return"red";default:return"default"}},f=[{dataIndex:"project_code",key:"project_code",title:"Project Code",sorter:!0,render:(e,s)=>t.jsx(g,{to:`/projects/${s.id}`,children:t.jsx("u",{children:s.project_code})})},{dataIndex:"business_initiative_name",title:"Project Name",key:"business_initiative_name",sorter:!0,width:300,ellipsis:!0},{dataIndex:"company",title:"Company",key:"company",sorter:!0},{dataIndex:"status_indicator",title:"Status Indicator",key:"status_indicator",sorter:!0,render:e=>{const s=e==="On Track"?"green":e==="At Risk"?"orange":e==="Off Track"?"red":"default";return t.jsx(i,{color:s,bordered:!1,children:e||"Unknown"})}},{dataIndex:"status",title:"Workflow Status",key:"status",sorter:!0,render:e=>t.jsx(i,{color:p(e),bordered:!1,children:e})},{dataIndex:"days_remaining_till_cod",title:"Days Remaining till COD",key:"days_remaining_till_cod",sorter:!0,render:e=>{if(e==null)return"-";const s=e>90?"green":e>30?"orange":"red";return t.jsxs(i,{color:s,bordered:!1,children:[e," days"]})}}],h=[{label:"PIMS",path:"/projects"}];return t.jsx(x,{title:"PIMS",breadcrumbs:h,noStyle:!0,children:t.jsx(y,{onChange:o,rowKey:"id",loading:n.loading,source:_(n.data),columns:f,showRowSelection:!1,search:r.search,searchOptions:m,filterComponents:[{label:"Status",name:"status",type:"Select",placeholder:"Select Status",width:140,defaultValue:r.status,options:[{label:"Active",value:"Active"},{label:"Pending",value:"Pending"},{label:"Completed",value:"Completed"},{label:"Cancelled",value:"Cancelled"}]}]})})};export{Q as Component,Q as default};
//# sourceMappingURL=page-BrIkaQWK.js.map
