import{a as t}from"./@react-router-BOJM2k20.js";import{g as ne,m as se,r as ae,u as ie,b as le,C as X,c as _,h as ce}from"./reactNode-Csz1gYGy.js";import{M as de,o as q,y as ue,v as ge}from"./index-QOKA2q-x.js";import{u as fe,B as me,b as pe}from"./index-BafWvN44.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new e.Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="fc96e2af-548b-4f93-a968-dcffc97b1e67",e._sentryDebugIdIdentifier="sentry-dbid-fc96e2af-548b-4f93-a968-dcffc97b1e67")}catch{}const H=t.createContext({}),ve=e=>{const{antCls:r,componentCls:a,iconCls:o,avatarBg:n,avatarColor:d,containerSize:y,containerSizeLG:u,containerSizeSM:C,textFontSize:x,textFontSizeLG:v,textFontSizeSM:k,iconFontSize:M,iconFontSizeLG:S,iconFontSizeSM:w,borderRadius:h,borderRadiusLG:z,borderRadiusSM:G,lineWidth:s,lineType:b}=e,p=(O,E,N,$)=>({width:O,height:O,borderRadius:"50%",fontSize:E,[`&${a}-square`]:{borderRadius:$},[`&${a}-icon`]:{fontSize:N,[`> ${o}`]:{margin:0}}});return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},ae(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:d,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:n,border:`${ie(s)} ${b} transparent`,"&-image":{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),p(y,x,M,h)),{"&-lg":Object.assign({},p(u,v,S,z)),"&-sm":Object.assign({},p(C,k,w,G)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Se=e=>{const{componentCls:r,groupBorderColor:a,groupOverlapping:o,groupSpace:n}=e;return{[`${r}-group`]:{display:"inline-flex",[r]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:o}},[`${r}-group-popover`]:{[`${r} + ${r}`]:{marginInlineStart:n}}}},he=e=>{const{controlHeight:r,controlHeightLG:a,controlHeightSM:o,fontSize:n,fontSizeLG:d,fontSizeXL:y,fontSizeHeading3:u,marginXS:C,marginXXS:x,colorBorderBg:v}=e;return{containerSize:r,containerSizeLG:a,containerSizeSM:o,textFontSize:n,textFontSizeLG:n,textFontSizeSM:n,iconFontSize:Math.round((d+y)/2),iconFontSizeLG:u,iconFontSizeSM:n,groupSpace:x,groupOverlapping:-C,groupBorderColor:v}},J=ne("Avatar",e=>{const{colorTextLightSolid:r,colorTextPlaceholder:a}=e,o=se(e,{avatarBg:a,avatarColor:r});return[ve(o),Se(o)]},he);var be=function(e,r){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]]);return a};const K=t.forwardRef((e,r)=>{const{prefixCls:a,shape:o,size:n,src:d,srcSet:y,icon:u,className:C,rootClassName:x,style:v,alt:k,draggable:M,children:S,crossOrigin:w,gap:h=4,onError:z}=e,G=be(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[s,b]=t.useState(1),[p,O]=t.useState(!1),[E,N]=t.useState(!0),$=t.useRef(null),j=t.useRef(null),R=le(r,$),{getPrefixCls:P,avatar:f}=t.useContext(X),g=t.useContext(H),I=()=>{if(!j.current||!$.current)return;const l=j.current.offsetWidth,i=$.current.offsetWidth;l!==0&&i!==0&&h*2<i&&b(i-h*2<l?(i-h*2)/l:1)};t.useEffect(()=>{O(!0)},[]),t.useEffect(()=>{N(!0),b(1)},[d]),t.useEffect(I,[h]);const A=()=>{(z==null?void 0:z())!==!1&&N(!1)},c=de(l=>{var i,L;return(L=(i=n??(g==null?void 0:g.size))!==null&&i!==void 0?i:l)!==null&&L!==void 0?L:"default"}),B=Object.keys(typeof c=="object"?c||{}:{}).some(l=>["xs","sm","md","lg","xl","xxl"].includes(l)),T=fe(B),Q=t.useMemo(()=>{if(typeof c!="object")return{};const l=me.find(L=>T[L]),i=c[l];return i?{width:i,height:i,fontSize:i&&(u||S)?i/2:18}:{}},[T,c]),m=P("avatar",a),V=q(m),[U,Y,Z]=J(m,V),ee=_({[`${m}-lg`]:c==="large",[`${m}-sm`]:c==="small"}),W=t.isValidElement(d),te=o||(g==null?void 0:g.shape)||"circle",oe=_(m,ee,f==null?void 0:f.className,`${m}-${te}`,{[`${m}-image`]:W||d&&E,[`${m}-icon`]:!!u},Z,V,C,x,Y),re=typeof c=="number"?{width:c,height:c,fontSize:u?c/2:18}:{};let F;if(typeof d=="string"&&E)F=t.createElement("img",{src:d,draggable:M,srcSet:y,onError:A,alt:k,crossOrigin:w});else if(W)F=d;else if(u)F=u;else if(p||s!==1){const l=`scale(${s})`,i={msTransform:l,WebkitTransform:l,transform:l};F=t.createElement(ue,{onResize:I},t.createElement("span",{className:`${m}-string`,ref:j,style:Object.assign({},i)},S))}else F=t.createElement("span",{className:`${m}-string`,style:{opacity:0},ref:j},S);return U(t.createElement("span",Object.assign({},G,{style:Object.assign(Object.assign(Object.assign(Object.assign({},re),Q),f==null?void 0:f.style),v),className:oe,ref:R}),F))}),D=e=>{const{size:r,shape:a}=t.useContext(H),o=t.useMemo(()=>({size:e.size||r,shape:e.shape||a}),[e.size,e.shape,r,a]);return t.createElement(H.Provider,{value:o},e.children)},ye=e=>{var r,a,o,n;const{getPrefixCls:d,direction:y}=t.useContext(X),{prefixCls:u,className:C,rootClassName:x,style:v,maxCount:k,maxStyle:M,size:S,shape:w,maxPopoverPlacement:h,maxPopoverTrigger:z,children:G,max:s}=e,b=d("avatar",u),p=`${b}-group`,O=q(b),[E,N,$]=J(b,O),j=_(p,{[`${p}-rtl`]:y==="rtl"},$,O,C,x,N),R=ge(G).map((g,I)=>ce(g,{key:`avatar-key-${I}`})),P=(s==null?void 0:s.count)||k,f=R.length;if(P&&P<f){const g=R.slice(0,P),I=R.slice(P,f),A=(s==null?void 0:s.style)||M,c=((r=s==null?void 0:s.popover)===null||r===void 0?void 0:r.trigger)||z||"hover",B=((a=s==null?void 0:s.popover)===null||a===void 0?void 0:a.placement)||h||"top",T=Object.assign(Object.assign({content:I},s==null?void 0:s.popover),{classNames:{root:_(`${p}-popover`,(n=(o=s==null?void 0:s.popover)===null||o===void 0?void 0:o.classNames)===null||n===void 0?void 0:n.root)},placement:B,trigger:c});return g.push(t.createElement(pe,Object.assign({key:"avatar-popover-key",destroyOnHidden:!0},T),t.createElement(K,{style:A},`+${f-P}`))),E(t.createElement(D,{shape:w,size:S},t.createElement("div",{className:j,style:v},g)))}return E(t.createElement(D,{shape:w,size:S},t.createElement("div",{className:j,style:v},R)))},Ce=K;Ce.Group=ye;export{Ce as A};
//# sourceMappingURL=index-BwbSssIU.js.map
