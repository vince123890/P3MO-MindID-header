import{f as h,u as g,a as n,j as c}from"./@react-router-BOJM2k20.js";import{P as v}from"./index-BafWvN44.js";import{A as j}from"./activity-form-BWo2H9Zf.js";import{g as A,p as d}from"./activities-DGHV3UKN.js";import{F as x}from"./index-DDk6ch2l.js";import{M as I}from"./index-C_i7UN8L.js";import{s}from"./index-Cskjed0c.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-BGD_4JXV.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./index-HUJMorX5.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./index-DlR_Bwt3.js";import"./UploadOutlined-ymldMT98.js";import"./AntdIcon-DUdM8fG5.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./context-BclqCKk2.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new t.Error().stack;i&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[i]="e610e744-bc92-4ba8-9f64-31d41c03857c",t._sentryDebugIdIdentifier="sentry-dbid-e610e744-bc92-4ba8-9f64-31d41c03857c")}catch{}const X=()=>{const{id:t,activityId:i}=h(),r=g(),[f]=x.useForm(),[p,a]=n.useState(!1),[e,u]=n.useState(null);n.useEffect(()=>{(async()=>{a(!0);try{const o=await A(i);o.data?u(o.data):(s.error("Activity not found"),r(`/projects/${t}`))}catch{s.error("Failed to fetch activity data"),r(`/projects/${t}`)}finally{a(!1)}})()},[i,t,r]);const y=[{label:"Projects",path:"/projects"},{label:"Project Detail",path:`/projects/${t}`},{label:"Current Activities",path:`/projects/${t}/activities`},{label:`Edit Activity ${(e==null?void 0:e.task_id)||i}`,path:`/projects/${t}/activities/${i}/update`}],m=l=>{a(!0),setTimeout(()=>{try{const o=d.data.items.findIndex(b=>b.id===i);o!==-1?(d.data.items[o]={...d.data.items[o],...l,updated_at:new Date().toISOString()},s.success("Activity updated successfully"),r(`/projects/${t}`)):s.error("Activity not found")}catch{s.error("Failed to update activity")}finally{a(!1)}},1e3)};return c.jsx(v,{title:`Edit Activity - ${(e==null?void 0:e.task_id)||"Loading..."}`,breadcrumbs:y,loading:p,children:c.jsx(I,{title:`Edit Activity - ${(e==null?void 0:e.task_id)||"Loading..."}`,open:!0,onCancel:()=>r(-1),footer:null,width:1200,centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"}},children:c.jsx(j,{formProps:{form:f,onFinish:m},initialData:e,loading:p,isEdit:!0,onSubmit:m})})})};export{X as Component,X as default};
//# sourceMappingURL=page-pkvkY0TS.js.map
