import{f as g,u as j,a as v,j as i}from"./@react-router-BOJM2k20.js";import{P as w}from"./index-BafWvN44.js";import{A}from"./activity-form-BWo2H9Zf.js";import{p as o}from"./activities-DGHV3UKN.js";import{F as S}from"./index-DDk6ch2l.js";import{M as x}from"./index-C_i7UN8L.js";import{s as m}from"./index-Cskjed0c.js";import"./index-QOKA2q-x.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./index-BGD_4JXV.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./use-form-error-handling-Dj-OCOIU.js";import"./index-HUJMorX5.js";import"./index-BpdQMdSc.js";import"./Input-CgaMpdgX.js";import"./index-DlR_Bwt3.js";import"./UploadOutlined-ymldMT98.js";import"./AntdIcon-DUdM8fG5.js";import"./useForm-CJYsS5GE.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./InfoCircleFilled-D4ctpFmw.js";import"./index-DPug0LmA.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./context-BclqCKk2.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="e273ead4-a58a-4f9b-9912-feecccd0c679",t._sentryDebugIdIdentifier="sentry-dbid-e273ead4-a58a-4f9b-9912-feecccd0c679")}catch{}const Z=()=>{const{id:t}=g(),e=j(),[d]=S.useForm(),[l,a]=v.useState(!1),f=[{label:"Projects",path:"/projects"},{label:"Project Detail",path:`/projects/${t}`},{label:"Current Activities",path:`/projects/${t}/activities`},{label:"Create Activity",path:`/projects/${t}/activities/create`}],s=u=>{a(!0),setTimeout(()=>{try{const c=String(Math.max(...o.data.items.map(r=>parseInt(r.id)),0)+1),n=o.data.items.filter(r=>r.project_id===t).map(r=>{const p=r.task_id.match(/TASK-(\d+)/);return p?parseInt(p[1]):0}),h=n.length>0?Math.max(...n):0,y=`TASK-${String(h+1).padStart(3,"0")}`,b={id:c,project_id:t,task_id:y,...u,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o.data.items.push(b),m.success("Activity created successfully"),e(`/projects/${t}`)}catch{m.error("Failed to create activity")}finally{a(!1)}},1e3)};return i.jsx(w,{title:"Create Activity",breadcrumbs:f,children:i.jsx(x,{title:"Create New Activity",open:!0,onCancel:()=>e(-1),footer:null,width:1200,centered:!0,styles:{body:{maxHeight:"80vh",overflowY:"auto"}},children:i.jsx(A,{formProps:{form:d,onFinish:s},loading:l,onSubmit:s})})})};export{Z as Component,Z as default};
//# sourceMappingURL=page-S9cwwmkC.js.map
