import{a,u as v,j as e}from"./@react-router-BOJM2k20.js";import{S as f,R as _,C as w,P as k}from"./index-BafWvN44.js";import{C as h,S as T}from"./index-BGD_4JXV.js";import{a as P}from"./index-DSQ8494f.js";import{u as z}from"./use-get-data-K1VuZGkH.js";import{a as c,T as I}from"./index-QOKA2q-x.js";import{T as D}from"./index-Y5xvexJH.js";import{R as u}from"./CopyOutlined-eZBlwj4y.js";import{R}from"./InfoCircleOutlined-BLIv2g3K.js";import{S as A}from"./index-HUJMorX5.js";import{s as g}from"./index-Cskjed0c.js";import"./reactNode-Csz1gYGy.js";import"./index-BHxSUtD9.js";import"./Skeleton-BKwTcTmI.js";import"./index-CrLFCoSO.js";import"./PlusOutlined-DDuQXVnN.js";import"./useClosable-q7p4GCca.js";import"./extendsObject-CT8lAb9A.js";import"./AntdIcon-DUdM8fG5.js";import"./ExclamationCircleFilled-C_fPh9YD.js";import"./InfoCircleFilled-D4ctpFmw.js";try{let i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new i.Error().stack;o&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[o]="75e12f2e-e1d9-4f1b-90bd-65bde344ec1d",i._sentryDebugIdIdentifier="sentry-dbid-75e12f2e-e1d9-4f1b-90bd-65bde344ec1d")}catch{}const{Text:n}=I,$=({linkPrefix:i="/projects"})=>{var m,y;const o=z(P),[r,b]=a.useState("All"),j=v(),l=((y=(m=o.data)==null?void 0:m.data)==null?void 0:y.items)||[],C=a.useMemo(()=>{const t=[...new Set(l.map(s=>s.company))].filter(Boolean);return[{label:"All Company",value:"All"},...t.map(s=>({label:s,value:s}))]},[l]),p=a.useMemo(()=>r==="All"?l:l.filter(t=>t.company===r),[l,r]),x=(t,s)=>{navigator.clipboard.writeText(t).then(()=>{g.success(`${s} copied to clipboard!`)}).catch(()=>{g.error(`Failed to copy ${s}`)})},S=t=>{j(`${i}/${t}`)};return console.log("CompanyDistributionContent rendering, projects:",p.length),e.jsx(f,{direction:"vertical",size:"large",style:{width:"100%"},children:e.jsx(h,{headStyle:{borderBottom:"none"},bodyStyle:{paddingTop:0},title:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Sebaran Project per Company"}),e.jsx(A,{value:r,onChange:b,options:C,style:{width:200},placeholder:"Select Company"})]}),loading:o.loading,children:e.jsx(_,{gutter:[16,16],children:p.map(t=>{const s=["1","3","5"].includes(t.id);return e.jsx(w,{xs:24,sm:12,lg:6,children:e.jsx(c,{title:e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Status Indicator:"})," ",t.status_indicator||"Unknown"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Workflow Status:"})," ",t.status||"Unknown"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Days Remaining till COD:"})," ",t.days_remaining_till_cod!==null&&t.days_remaining_till_cod!==void 0?`${t.days_remaining_till_cod} days`:"-"]})]}),placement:"top",children:e.jsx(h,{size:"small",hoverable:!0,style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",cursor:"pointer"},onClick:()=>S(t.id),children:e.jsxs(f,{direction:"vertical",size:"small",style:{width:"100%"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Project Code"}),e.jsx("br",{}),e.jsx(n,{style:{fontWeight:"bold",fontSize:"14px",color:"#000"},children:t.project_code})]}),s&&e.jsx(D,{color:"blue",style:{fontSize:"10px",marginTop:"16px"},children:"Affiliate"})]}),e.jsxs("div",{children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Project Name"}),e.jsx("br",{}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"4px"},children:[e.jsx(n,{style:{fontSize:"13px",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.4",flex:1},title:t.business_initiative_name,children:t.business_initiative_name}),e.jsx(c,{title:"Copy Project Name",children:e.jsx(u,{style:{color:"#999",cursor:"pointer",fontSize:"12px",marginTop:"2px",flexShrink:0},onClick:d=>{d.stopPropagation(),x(t.business_initiative_name,"Project Name")}})})]})]}),e.jsxs("div",{children:[e.jsx(n,{type:"secondary",style:{fontSize:"12px"},children:"Company"}),e.jsx("br",{}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(n,{strong:!0,style:{fontSize:"13px",flex:1},children:t.company}),e.jsx(c,{title:"Copy Company",children:e.jsx(u,{style:{color:"#999",cursor:"pointer",fontSize:"12px",flexShrink:0},onClick:d=>{d.stopPropagation(),x(t.company,"Company")}})})]})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #f0f0f0"},children:[e.jsx(R,{style:{color:"#999"}}),e.jsx(n,{style:{fontSize:"11px",color:"#999",marginLeft:"4px"},children:"Click card for details"})]})]})})})},t.id)})})})})},ie=()=>{const i=[{label:"Dashboard",path:"/dashboard"},{label:"Projects",path:"/strategic-capital-project"}];return e.jsx(k,{title:"Projects",breadcrumbs:i,noStyle:!0,children:e.jsx(T,{loading:!1,children:e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading company distribution..."}),children:e.jsx($,{linkPrefix:"/strategic-capital-project"})})})})};export{ie as Component,ie as default};
//# sourceMappingURL=page-u2qQCyez.js.map
