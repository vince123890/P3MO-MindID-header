{"version":3,"file":"page-CaXZeYKl.js","sources":["../../src/app/(protected)/examples/books/page.jsx"],"sourcesContent":["import { Button, Flex, message } from \"antd\";\nimport { DeleteOutlined, EditOutlined, EyeOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router\";\nimport { Page, DataTable } from \"admiral\";\nimport dayjs from \"dayjs\";\n\nimport { makeSource } from \"@/utils/data-table\";\nimport { useFilter } from \"@/app/_hooks/datatable/use-filter\";\nimport { urlParser } from \"@/utils/url-parser\";\nimport { useGetData } from \"@/app/_hooks/use-get-data\";\nimport { formatDate } from \"@/utils/date-format\";\nimport { allBooks } from \"./_data\";\n\nexport const Component = () => {\n  const { handleChange, filters } = useFilter();\n\n  const allBooksData = useGetData(allBooks);\n\n  const allBookColumns = [\n    {\n      dataIndex: \"title\",\n      key: \"title\",\n      title: \"Title\",\n      sorter: true,\n      render: (_, record) => (\n        <Link to={record.id}>\n          <u>{record.title}</u>\n        </Link>\n      ),\n    },\n    {\n      dataIndex: \"publicationDate\",\n      title: \"Publication Date\",\n      key: \"publicationDate\",\n      sorter: true,\n      render: (_, record) => {\n        return formatDate(record.publicationDate);\n      },\n    },\n    {\n      dataIndex: \"author\",\n      title: \"Author\",\n      key: \"author\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"totalCopies\",\n      title: \"Total Copies\",\n      key: \"totalCopies\",\n      sorter: true,\n    },\n    {\n      dataIndex: \"Action\",\n      title: \"Action\",\n      key: \"Action\",\n      render: (_, record) => {\n        return (\n          <Flex>\n            <Link\n              to={urlParser(\"/examples/books/:id\", {\n                id: record.id,\n              })}\n            >\n              <Button type=\"link\" icon={<EyeOutlined style={{ color: \"green\" }} />} />\n            </Link>\n            <Button\n              type=\"link\"\n              danger\n              icon={<DeleteOutlined />}\n              onClick={() => {\n                message.success(\"Book successfully deleted\");\n              }}\n            />\n            <Link\n              to={urlParser(\"/examples/books/:id/update\", {\n                id: record.id,\n              })}\n            >\n              <Button type=\"link\" icon={<EditOutlined />} />\n            </Link>\n          </Flex>\n        );\n      },\n    },\n  ];\n\n  const breadcrumbs = [\n    {\n      label: \"Books\",\n      path: \"/examples/books\",\n    },\n  ];\n\n  return (\n    <Page\n      title=\"Books\"\n      breadcrumbs={breadcrumbs}\n      topActions={\n        <Link to={\"/examples/books/create\"}>\n          <Button icon={<PlusCircleOutlined />}>Add Book</Button>\n        </Link>\n      }\n      noStyle\n    >\n      <DataTable\n        filterComponents={[\n          {\n            label: \"filter\",\n            name: \"source\",\n            type: \"CheckboxDropdown\",\n            placeholder: \"Select Author\",\n            width: 140,\n            defaultValue: filters.author,\n            options: [\n              { label: \"Harper Lee\", value: \"Harper Lee\" },\n              { label: \"George Orwell\", value: \"George Orwell\" },\n              { label: \"Jane Austen\", value: \"Jane Austen\" },\n              { label: \"J.R.R. Tolkien\", value: \"J.R.R. Tolkien\" },\n            ],\n          },\n          {\n            label: \"filter\",\n            name: \"range\",\n            type: \"DateRangePicker\",\n            width: 230,\n            defaultValue:\n              typeof filters.range?.[0] === \"number\"\n                ? [dayjs(dayjs.unix(filters.range[0])), dayjs(dayjs.unix(filters.range[1]))]\n                : [undefined, undefined],\n            placeholder: [\"Start\", \"End\"],\n          },\n        ]}\n        onChange={handleChange}\n        rowKey=\"id\"\n        loading={allBooksData.loading}\n        source={makeSource(allBooksData.data)}\n        columns={allBookColumns}\n        search={filters.search}\n        showRowSelection={true}\n        batchActionMenus={[\n          {\n            key: \"delete\",\n            label: \"Delete\",\n            onClick: (_values, cb) => {\n              message.success(\"Selected books successfully deleted\");\n              cb.reset();\n            },\n            danger: true,\n            icon: <DeleteOutlined />,\n          },\n        ]}\n      />\n    </Page>\n  );\n};\n\nexport default Component;\n"],"names":["Component","handleChange","filters","useFilter","allBooksData","useGetData","allBooks","allBookColumns","_","record","jsx","Link","formatDate","Flex","urlParser","Button","EyeOutlined","DeleteOutlined","message","EditOutlined","breadcrumbs","Page","PlusCircleOutlined","DataTable","_a","dayjs","makeSource","_values","cb"],"mappings":"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"}