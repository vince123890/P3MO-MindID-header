import{v as S,A as De,C as _,c as w,b as He,ai as Ve,u as G,U as qe,l as Qe}from"./reactNode-Csz1gYGy.js";import{a as l,k as O}from"./@react-router-BOJM2k20.js";import{aM as Ue,U as W,aV as oe,aC as Xe,o as le,r as Ze,W as Ge,z as Ye,m as B,c as re,am as Je,R as Ke,an as et,a4 as tt}from"./index-QOKA2q-x.js";import{B as A,j as se,u as nt}from"./index-BHxSUtD9.js";import{e as ae,c as ot,A as lt}from"./index-BafWvN44.js";import{R as rt}from"./ExclamationCircleFilled-C_fPh9YD.js";import{R as st}from"./InfoCircleFilled-D4ctpFmw.js";import{u as ce,D as at,p as ct,a as it,P as ut}from"./index-DPug0LmA.js";import{u as ft,p as Y}from"./useClosable-q7p4GCca.js";import{S as dt}from"./Skeleton-BKwTcTmI.js";import{u as mt}from"./context-BclqCKk2.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8d00470f-761f-4593-bf58-9e0bd75dc0e0",e._sentryDebugIdIdentifier="sentry-dbid-8d00470f-761f-4593-bf58-9e0bd75dc0e0")}catch{}function Ct(){const[e,n]=l.useState([]),s=l.useCallback(t=>(n(o=>[].concat(S(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,s]}const L=e=>typeof(e==null?void 0:e.then)=="function",ie=e=>{const{type:n,children:s,prefixCls:t,buttonProps:o,close:c,autoFocus:g,emitEvent:u,isSilent:a,quitOnNullishReturnValue:C,actionFn:r}=e,f=l.useRef(!1),x=l.useRef(null),[d,v]=Ue(!1),m=(...i)=>{c==null||c.apply(void 0,i)};l.useEffect(()=>{let i=null;return g&&(i=setTimeout(()=>{var p;(p=x.current)===null||p===void 0||p.focus({preventScroll:!0})})),()=>{i&&clearTimeout(i)}},[g]);const y=i=>{L(i)&&(v(!0),i.then((...p)=>{v(!1,!0),m.apply(void 0,p),f.current=!1},p=>{if(v(!1,!0),f.current=!1,!(a!=null&&a()))return Promise.reject(p)}))},b=i=>{if(f.current)return;if(f.current=!0,!r){m();return}let p;if(u){if(p=r(i),C&&!L(p)){f.current=!1,m(i);return}}else if(r.length)p=r(c),f.current=!1;else if(p=r(),!L(p)){m();return}y(p)};return l.createElement(A,Object.assign({},se(n),{onClick:b,loading:d,prefixCls:t},o,{ref:x}),s)},N=O.createContext({}),{Provider:ue}=N,J=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:s,isSilent:t,mergedOkCancel:o,rootPrefixCls:c,close:g,onCancel:u,onConfirm:a}=l.useContext(N);return o?O.createElement(ie,{isSilent:t,actionFn:u,close:(...C)=>{g==null||g.apply(void 0,C),a==null||a(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${c}-btn`},s):null},K=()=>{const{autoFocusButton:e,close:n,isSilent:s,okButtonProps:t,rootPrefixCls:o,okTextLocale:c,okType:g,onConfirm:u,onOk:a}=l.useContext(N);return O.createElement(ie,{isSilent:s,type:g||"primary",actionFn:a,close:(...C)=>{n==null||n.apply(void 0,C),u==null||u(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},c)},gt=()=>De()&&window.document.documentElement,ee=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:s}=l.useContext(N);return O.createElement(A,Object.assign({onClick:s},e),n)},te=()=>{const{confirmLoading:e,okButtonProps:n,okType:s,okTextLocale:t,onOk:o}=l.useContext(N);return O.createElement(A,Object.assign({},se(s),{loading:e,onClick:o},n),t)};function fe(e,n){return O.createElement("span",{className:`${e}-close-x`},n||O.createElement(ae,{className:`${e}-close-icon`}))}const de=e=>{const{okText:n,okType:s="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:g,okButtonProps:u,cancelButtonProps:a,footer:C}=e,[r]=W("Modal",oe()),f=n||(r==null?void 0:r.okText),x=t||(r==null?void 0:r.cancelText),d={confirmLoading:o,okButtonProps:u,cancelButtonProps:a,okTextLocale:f,cancelTextLocale:x,okType:s,onOk:c,onCancel:g},v=O.useMemo(()=>d,S(Object.values(d)));let m;return typeof C=="function"||typeof C>"u"?(m=O.createElement(O.Fragment,null,O.createElement(ee,null),O.createElement(te,null)),typeof C=="function"&&(m=C(m,{OkBtn:te,CancelBtn:ee})),m=O.createElement(ue,{value:v},m)):m=C,O.createElement(Xe,{disabled:!1},m)};var bt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};let z;const pt=e=>{z={x:e.pageX,y:e.pageY},setTimeout(()=>{z=null},100)};gt()&&document.documentElement.addEventListener("click",pt,!0);const me=e=>{const{prefixCls:n,className:s,rootClassName:t,open:o,wrapClassName:c,centered:g,getContainer:u,focusTriggerAfterClose:a=!0,style:C,visible:r,width:f=520,footer:x,classNames:d,styles:v,children:m,loading:y,confirmLoading:b,zIndex:i,mousePosition:p,onOk:h,onCancel:T,destroyOnHidden:E,destroyOnClose:Ee,panelRef:$e=null}=e,je=bt(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:Te,getPrefixCls:D,direction:Ie,modal:P}=l.useContext(_),H=I=>{b||T==null||T(I)},we=I=>{h==null||h(I)},$=D("modal",n),V=D(),q=le($),[Se,Q,ke]=ce($,q),Ne=w(c,{[`${$}-centered`]:g??(P==null?void 0:P.centered),[`${$}-wrap-rtl`]:Ie==="rtl"}),Re=x!==null&&!y?l.createElement(de,Object.assign({},e,{onOk:we,onCancel:H})):null,[U,X,Me,Fe]=ft(Y(e),Y(P),{closable:!0,closeIcon:l.createElement(ae,{className:`${$}-close-icon`}),closeIconRender:I=>fe($,I)}),Be=mt(`.${$}-content`),_e=He($e,Be),[Le,ze]=Ze("Modal",i),[We,M]=l.useMemo(()=>f&&typeof f=="object"?[void 0,f]:[f,void 0],[f]),Ae=l.useMemo(()=>{const I={};return M&&Object.keys(M).forEach(Z=>{const F=M[Z];F!==void 0&&(I[`--${$}-${Z}-width`]=typeof F=="number"?`${F}px`:F)}),I},[M]);return Se(l.createElement(Ge,{form:!0,space:!0},l.createElement(Ye.Provider,{value:ze},l.createElement(at,Object.assign({width:We},je,{zIndex:Le,getContainer:u===void 0?Te:u,prefixCls:$,rootClassName:w(Q,t,ke,q),footer:Re,visible:o??r,mousePosition:p??z,onClose:H,closable:U&&Object.assign({disabled:Me,closeIcon:X},Fe),closeIcon:X,focusTriggerAfterClose:a,transitionName:B(V,"zoom",e.transitionName),maskTransitionName:B(V,"fade",e.maskTransitionName),className:w(Q,s,P==null?void 0:P.className),style:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),C),Ae),classNames:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.classNames),d),{wrapper:w(Ne,d==null?void 0:d.wrapper)}),styles:Object.assign(Object.assign({},P==null?void 0:P.styles),v),panelRef:_e,destroyOnClose:E??Ee}),y?l.createElement(dt,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):m))))},vt=e=>{const{componentCls:n,titleFontSize:s,titleLineHeight:t,modalConfirmIconSize:o,fontSize:c,lineHeight:g,modalTitleHeight:u,fontHeight:a,confirmBodyPadding:C}=e,r=`${n}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:Object.assign({},qe()),[`&${n} ${n}-body`]:{padding:C},[`${r}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(a).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(u).sub(o).equal()).div(2).equal()}},[`${r}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${G(e.marginSM)})`},[`${e.iconCls} + ${r}-paragraph`]:{maxWidth:`calc(100% - ${G(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${r}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:t},[`${r}-content`]:{color:e.colorText,fontSize:c,lineHeight:g},[`${r}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},xt=Ve(["Modal","confirm"],e=>{const n=ct(e);return vt(n)},it,{order:-1e3});var yt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};function Ce(e){const{prefixCls:n,icon:s,okText:t,cancelText:o,confirmPrefixCls:c,type:g,okCancel:u,footer:a,locale:C}=e,r=yt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=s;if(!s&&s!==null)switch(g){case"info":f=l.createElement(st,null);break;case"success":f=l.createElement(ot,null);break;case"error":f=l.createElement(Ke,null);break;default:f=l.createElement(rt,null)}const x=u??g==="confirm",d=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[v]=W("Modal"),m=C||v,y=t||(x?m==null?void 0:m.okText:m==null?void 0:m.justOkText),b=o||(m==null?void 0:m.cancelText),i=Object.assign({autoFocusButton:d,cancelTextLocale:b,okTextLocale:y,mergedOkCancel:x},r),p=l.useMemo(()=>i,S(Object.values(i))),h=l.createElement(l.Fragment,null,l.createElement(J,null),l.createElement(K,null)),T=e.title!==void 0&&e.title!==null,E=`${c}-body`;return l.createElement("div",{className:`${c}-body-wrapper`},l.createElement("div",{className:w(E,{[`${E}-has-title`]:T})},f,l.createElement("div",{className:`${c}-paragraph`},T&&l.createElement("span",{className:`${c}-title`},e.title),l.createElement("div",{className:`${c}-content`},e.content))),a===void 0||typeof a=="function"?l.createElement(ue,{value:p},l.createElement("div",{className:`${c}-btns`},typeof a=="function"?a(h,{OkBtn:K,CancelBtn:J}):h)):a,l.createElement(xt,{prefixCls:n}))}const Ot=e=>{const{close:n,zIndex:s,maskStyle:t,direction:o,prefixCls:c,wrapClassName:g,rootPrefixCls:u,bodyStyle:a,closable:C=!1,onConfirm:r,styles:f,title:x}=e,d=`${c}-confirm`,v=e.width||416,m=e.style||{},y=e.mask===void 0?!0:e.mask,b=e.maskClosable===void 0?!1:e.maskClosable,i=w(d,`${d}-${e.type}`,{[`${d}-rtl`]:o==="rtl"},e.className),[,p]=Qe(),h=l.useMemo(()=>s!==void 0?s:p.zIndexPopupBase+Je,[s,p]);return l.createElement(me,Object.assign({},e,{className:i,wrapClassName:w({[`${d}-centered`]:!!e.centered},g),onCancel:()=>{n==null||n({triggerCancel:!0}),r==null||r(!1)},title:x,footer:null,transitionName:B(u||"","zoom",e.transitionName),maskTransitionName:B(u||"","fade",e.maskTransitionName),mask:y,maskClosable:b,style:m,styles:Object.assign({body:a,mask:t},f),width:v,zIndex:h,closable:C}),l.createElement(Ce,Object.assign({},e,{confirmPrefixCls:d})))},ge=e=>{const{rootPrefixCls:n,iconPrefixCls:s,direction:t,theme:o}=e;return l.createElement(re,{prefixCls:n,iconPrefixCls:s,direction:t,theme:o},l.createElement(Ot,Object.assign({},e)))},k=[];let be="";function pe(){return be}const Pt=e=>{var n,s;const{prefixCls:t,getContainer:o,direction:c}=e,g=oe(),u=l.useContext(_),a=pe()||u.getPrefixCls(),C=t||`${a}-modal`;let r=o;return r===!1&&(r=void 0),O.createElement(ge,Object.assign({},e,{rootPrefixCls:a,prefixCls:C,iconPrefixCls:u.iconPrefixCls,theme:u.theme,direction:c??u.direction,locale:(s=(n=u.locale)===null||n===void 0?void 0:n.Modal)!==null&&s!==void 0?s:g,getContainer:r}))};function R(e){const n=et(),s=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:a,open:!0}),o,c;function g(...r){var f;if(r.some(v=>v==null?void 0:v.triggerCancel)){var d;(f=e.onCancel)===null||f===void 0||(d=f).call.apply(d,[e,()=>{}].concat(S(r.slice(1))))}for(let v=0;v<k.length;v++)if(k[v]===a){k.splice(v,1);break}c()}function u(r){clearTimeout(o),o=setTimeout(()=>{const f=n.getPrefixCls(void 0,pe()),x=n.getIconPrefixCls(),d=n.getTheme(),v=O.createElement(Pt,Object.assign({},r));c=nt()(O.createElement(re,{prefixCls:f,iconPrefixCls:x,theme:d},n.holderRender?n.holderRender(v):v),s)})}function a(...r){t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),g.apply(this,r)}}),t.visible&&delete t.visible,u(t)}function C(r){typeof r=="function"?t=r(t):t=Object.assign(Object.assign({},t),r),u(t)}return u(t),k.push(a),{destroy:a,update:C}}function ve(e){return Object.assign(Object.assign({},e),{type:"warning"})}function xe(e){return Object.assign(Object.assign({},e),{type:"info"})}function ye(e){return Object.assign(Object.assign({},e),{type:"success"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"error"})}function Pe(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function ht({rootPrefixCls:e}){be=e}var Et=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const $t=(e,n)=>{var s,{afterClose:t,config:o}=e,c=Et(e,["afterClose","config"]);const[g,u]=l.useState(!0),[a,C]=l.useState(o),{direction:r,getPrefixCls:f}=l.useContext(_),x=f("modal"),d=f(),v=()=>{var i;t(),(i=a.afterClose)===null||i===void 0||i.call(a)},m=(...i)=>{var p;if(u(!1),i.some(E=>E==null?void 0:E.triggerCancel)){var T;(p=a.onCancel)===null||p===void 0||(T=p).call.apply(T,[a,()=>{}].concat(S(i.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:m,update:i=>{C(p=>{const h=typeof i=="function"?i(p):i;return Object.assign(Object.assign({},p),h)})}}));const y=(s=a.okCancel)!==null&&s!==void 0?s:a.type==="confirm",[b]=W("Modal",tt.Modal);return l.createElement(ge,Object.assign({prefixCls:x,rootPrefixCls:d},a,{close:m,open:g,afterClose:v,okText:a.okText||(y?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:a.direction||r,cancelText:a.cancelText||(b==null?void 0:b.cancelText)},c))},jt=l.forwardRef($t);let ne=0;const Tt=l.memo(l.forwardRef((e,n)=>{const[s,t]=Ct();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,s)}));function It(){const e=l.useRef(null),[n,s]=l.useState([]);l.useEffect(()=>{n.length&&(S(n).forEach(g=>{g()}),s([]))},[n]);const t=l.useCallback(c=>function(u){var a;ne+=1;const C=l.createRef();let r;const f=new Promise(y=>{r=y});let x=!1,d;const v=l.createElement(jt,{key:`modal-${ne}`,config:c(u),ref:C,afterClose:()=>{d==null||d()},isSilent:()=>x,onConfirm:y=>{r(y)}});return d=(a=e.current)===null||a===void 0?void 0:a.patchElement(v),d&&k.push(d),{destroy:()=>{function y(){var b;(b=C.current)===null||b===void 0||b.destroy()}C.current?y():s(b=>[].concat(S(b),[y]))},update:y=>{function b(){var i;(i=C.current)===null||i===void 0||i.update(y)}C.current?b():s(i=>[].concat(S(i),[b]))},then:y=>(x=!0,f.then(y))}},[]);return[l.useMemo(()=>({info:t(xe),success:t(ye),error:t(Oe),warning:t(ve),confirm:t(Pe)}),[]),l.createElement(Tt,{key:"modal-holder",ref:e})]}var wt=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const St=e=>{const{prefixCls:n,className:s,closeIcon:t,closable:o,type:c,title:g,children:u,footer:a}=e,C=wt(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:r}=l.useContext(_),f=r(),x=n||r("modal"),d=le(f),[v,m,y]=ce(x,d),b=`${x}-confirm`;let i={};return c?i={closable:o??!1,title:"",footer:"",children:l.createElement(Ce,Object.assign({},e,{prefixCls:x,confirmPrefixCls:b,rootPrefixCls:f,content:u}))}:i={closable:o??!0,title:g,footer:a!==null&&l.createElement(de,Object.assign({},e)),children:u},v(l.createElement(ut,Object.assign({prefixCls:x,className:w(m,`${x}-pure-panel`,c&&b,c&&`${b}-${c}`,s,y,d)},C,{closeIcon:fe(x,t),closable:o},i)))},kt=lt(St);function he(e){return R(ve(e))}const j=me;j.useModal=It;j.info=function(n){return R(xe(n))};j.success=function(n){return R(ye(n))};j.error=function(n){return R(Oe(n))};j.warning=he;j.warn=he;j.confirm=function(n){return R(Pe(n))};j.destroyAll=function(){for(;k.length;){const n=k.pop();n&&n()}};j.config=ht;j._InternalPanelDoNotUseOrYouWillBeFired=kt;export{ie as A,j as M};
//# sourceMappingURL=index-C_i7UN8L.js.map
