import{a,j as r}from"./@react-router-BOJM2k20.js";import{p as ge,I as ue,r as Ae,s as Je,v as Qe,S as de,w as et,x as tt,b as nt,F as z,R as Ie,C as ve,G as at,t as Fe,f as ot}from"./index-BafWvN44.js";import{D as Pe}from"./index-Dh480BEi.js";import{B as ne}from"./index-BHxSUtD9.js";import{Y as rt,i as U,c as T,x as lt,p as xe,j as K,q as pe,n as be,a as Te,g as st,m as it,u as se,t as ct,b as dt,C as ut}from"./reactNode-Csz1gYGy.js";import{_ as mt,C as Se,K as he,aR as ft,r as ht,W as gt,z as vt,m as we,aS as xt,T as ye}from"./index-QOKA2q-x.js";import{a as je}from"./index-DlR_Bwt3.js";import{F as ae}from"./index-DDk6ch2l.js";import{S as yt}from"./index-HUJMorX5.js";import{F as Ct}from"./FilterOutlined-iieb3jrr.js";import{u as pt}from"./context-BclqCKk2.js";import{u as bt,p as ke}from"./useClosable-q7p4GCca.js";import{S as St}from"./Skeleton-BKwTcTmI.js";import{I as wt}from"./index-BpdQMdSc.js";import{F as jt,P as kt}from"./Table-D1c8ugbT.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7954a274-c99b-47d4-94c1-f186615d6534",e._sentryDebugIdIdentifier="sentry-dbid-7954a274-c99b-47d4-94c1-f186615d6534")}catch{}var Oe=a.createContext(null),Ve=a.createContext({}),Ot=["prefixCls","className","containerRef"],Et=function(t){var n=t.prefixCls,o=t.className,l=t.containerRef,i=mt(t,Ot),d=a.useContext(Ve),g=d.panel,x=rt(g,l);return a.createElement("div",U({className:T("".concat(n,"-content"),o),role:"dialog",ref:x},ge(t,{aria:!0}),{"aria-modal":"true"},i))};function Ee(e){return typeof e=="string"&&String(Number(e))===e?(lt(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var $e={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function $t(e,t){var n,o,l,i=e.prefixCls,d=e.open,g=e.placement,x=e.inline,f=e.push,p=e.forceRender,s=e.autoFocus,h=e.keyboard,c=e.classNames,y=e.rootClassName,S=e.rootStyle,b=e.zIndex,R=e.className,I=e.id,B=e.style,D=e.motion,u=e.width,w=e.height,$=e.children,F=e.mask,V=e.maskClosable,_=e.maskMotion,J=e.maskClassName,M=e.maskStyle,L=e.afterOpenChange,N=e.onClose,H=e.onMouseEnter,X=e.onMouseOver,Y=e.onMouseLeave,W=e.onClick,q=e.onKeyDown,Z=e.onKeyUp,m=e.styles,v=e.drawerRender,C=a.useRef(),j=a.useRef(),O=a.useRef();a.useImperativeHandle(t,function(){return C.current});var ie=function(P){var oe=P.keyCode,re=P.shiftKey;switch(oe){case he.TAB:{if(oe===he.TAB){if(!re&&document.activeElement===O.current){var le;(le=j.current)===null||le===void 0||le.focus({preventScroll:!0})}else if(re&&document.activeElement===j.current){var fe;(fe=O.current)===null||fe===void 0||fe.focus({preventScroll:!0})}}break}case he.ESC:{N&&h&&(P.stopPropagation(),N(P));break}}};a.useEffect(function(){if(d&&s){var k;(k=C.current)===null||k===void 0||k.focus({preventScroll:!0})}},[d]);var ce=a.useState(!1),Q=xe(ce,2),G=Q[0],A=Q[1],E=a.useContext(Oe),me;typeof f=="boolean"?me=f?{}:{distance:0}:me=f||{};var ee=(n=(o=(l=me)===null||l===void 0?void 0:l.distance)!==null&&o!==void 0?o:E==null?void 0:E.pushDistance)!==null&&n!==void 0?n:180,Ue=a.useMemo(function(){return{pushDistance:ee,push:function(){A(!0)},pull:function(){A(!1)}}},[ee]);a.useEffect(function(){if(d){var k;E==null||(k=E.push)===null||k===void 0||k.call(E)}else{var P;E==null||(P=E.pull)===null||P===void 0||P.call(E)}},[d]),a.useEffect(function(){return function(){var k;E==null||(k=E.pull)===null||k===void 0||k.call(E)}},[]);var Xe=a.createElement(Se,U({key:"mask"},_,{visible:F&&d}),function(k,P){var oe=k.className,re=k.style;return a.createElement("div",{className:T("".concat(i,"-mask"),oe,c==null?void 0:c.mask,J),style:K(K(K({},re),M),m==null?void 0:m.mask),onClick:V&&d?N:void 0,ref:P})}),Ye=typeof D=="function"?D(g):D,te={};if(G&&ee)switch(g){case"top":te.transform="translateY(".concat(ee,"px)");break;case"bottom":te.transform="translateY(".concat(-ee,"px)");break;case"left":te.transform="translateX(".concat(ee,"px)");break;default:te.transform="translateX(".concat(-ee,"px)");break}g==="left"||g==="right"?te.width=Ee(u):te.height=Ee(w);var qe={onMouseEnter:H,onMouseOver:X,onMouseLeave:Y,onClick:W,onKeyDown:q,onKeyUp:Z},Ze=a.createElement(Se,U({key:"panel"},Ye,{visible:d,forceRender:p,onVisibleChanged:function(P){L==null||L(P)},removeOnLeave:!1,leavedClassName:"".concat(i,"-content-wrapper-hidden")}),function(k,P){var oe=k.className,re=k.style,le=a.createElement(Et,U({id:I,containerRef:P,prefixCls:i,className:T(R,c==null?void 0:c.content),style:K(K({},B),m==null?void 0:m.content)},ge(e,{aria:!0}),qe),$);return a.createElement("div",U({className:T("".concat(i,"-content-wrapper"),c==null?void 0:c.wrapper,oe),style:K(K(K({},te),re),m==null?void 0:m.wrapper)},ge(e,{data:!0})),v?v(le):le)}),Ce=K({},S);return b&&(Ce.zIndex=b),a.createElement(Oe.Provider,{value:Ue},a.createElement("div",{className:T(i,"".concat(i,"-").concat(g),y,pe(pe({},"".concat(i,"-open"),d),"".concat(i,"-inline"),x)),style:Ce,tabIndex:-1,ref:C,onKeyDown:ie},Xe,a.createElement("div",{tabIndex:0,ref:j,style:$e,"aria-hidden":"true","data-sentinel":"start"}),Ze,a.createElement("div",{tabIndex:0,ref:O,style:$e,"aria-hidden":"true","data-sentinel":"end"})))}var Dt=a.forwardRef($t),Nt=function(t){var n=t.open,o=n===void 0?!1:n,l=t.prefixCls,i=l===void 0?"rc-drawer":l,d=t.placement,g=d===void 0?"right":d,x=t.autoFocus,f=x===void 0?!0:x,p=t.keyboard,s=p===void 0?!0:p,h=t.width,c=h===void 0?378:h,y=t.mask,S=y===void 0?!0:y,b=t.maskClosable,R=b===void 0?!0:b,I=t.getContainer,B=t.forceRender,D=t.afterOpenChange,u=t.destroyOnClose,w=t.onMouseEnter,$=t.onMouseOver,F=t.onMouseLeave,V=t.onClick,_=t.onKeyDown,J=t.onKeyUp,M=t.panelRef,L=a.useState(!1),N=xe(L,2),H=N[0],X=N[1],Y=a.useState(!1),W=xe(Y,2),q=W[0],Z=W[1];be(function(){Z(!0)},[]);var m=q?o:!1,v=a.useRef(),C=a.useRef();be(function(){m&&(C.current=document.activeElement)},[m]);var j=function(G){var A;if(X(G),D==null||D(G),!G&&C.current&&!((A=v.current)!==null&&A!==void 0&&A.contains(C.current))){var E;(E=C.current)===null||E===void 0||E.focus({preventScroll:!0})}},O=a.useMemo(function(){return{panel:M}},[M]);if(!B&&!H&&!m&&u)return null;var ie={onMouseEnter:w,onMouseOver:$,onMouseLeave:F,onClick:V,onKeyDown:_,onKeyUp:J},ce=K(K({},t),{},{open:m,prefixCls:i,placement:g,autoFocus:f,keyboard:s,width:c,mask:S,maskClosable:R,inline:I===!1,afterOpenChange:j,ref:v},ie);return a.createElement(Ve.Provider,{value:O},a.createElement(ft,{open:m||B||H,autoDestroy:!1,getContainer:I,autoLock:S&&(m||H)},a.createElement(Dt,ce)))};const _e=e=>{var t,n;const{prefixCls:o,title:l,footer:i,extra:d,loading:g,onClose:x,headerStyle:f,bodyStyle:p,footerStyle:s,children:h,classNames:c,styles:y}=e,S=Te("drawer"),b=a.useCallback(u=>a.createElement("button",{type:"button",onClick:x,className:`${o}-close`},u),[x]),[R,I]=bt(ke(e),ke(S),{closable:!0,closeIconRender:b}),B=a.useMemo(()=>{var u,w;return!l&&!R?null:a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(u=S.styles)===null||u===void 0?void 0:u.header),f),y==null?void 0:y.header),className:T(`${o}-header`,{[`${o}-header-close-only`]:R&&!l&&!d},(w=S.classNames)===null||w===void 0?void 0:w.header,c==null?void 0:c.header)},a.createElement("div",{className:`${o}-header-title`},I,l&&a.createElement("div",{className:`${o}-title`},l)),d&&a.createElement("div",{className:`${o}-extra`},d))},[R,I,d,f,o,l]),D=a.useMemo(()=>{var u,w;if(!i)return null;const $=`${o}-footer`;return a.createElement("div",{className:T($,(u=S.classNames)===null||u===void 0?void 0:u.footer,c==null?void 0:c.footer),style:Object.assign(Object.assign(Object.assign({},(w=S.styles)===null||w===void 0?void 0:w.footer),s),y==null?void 0:y.footer)},i)},[i,s,o]);return a.createElement(a.Fragment,null,B,a.createElement("div",{className:T(`${o}-body`,c==null?void 0:c.body,(t=S.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(n=S.styles)===null||n===void 0?void 0:n.body),p),y==null?void 0:y.body)},g?a.createElement(St,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):h),D)},Rt=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},ze=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Be=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},ze({opacity:e},{opacity:1})),It=(e,t)=>[Be(.7,t),ze({transform:Rt(e)},{transform:"none"})],Ft=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:Be(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,l)=>Object.assign(Object.assign({},o),{[`&-${l}`]:It(l,n)}),{})}}},Pt=e=>{const{borderRadiusSM:t,componentCls:n,zIndexPopup:o,colorBgMask:l,colorBgElevated:i,motionDurationSlow:d,motionDurationMid:g,paddingXS:x,padding:f,paddingLG:p,fontSizeLG:s,lineHeightLG:h,lineWidth:c,lineType:y,colorSplit:S,marginXS:b,colorIcon:R,colorIconHover:I,colorBgTextHover:B,colorBgTextActive:D,colorText:u,fontWeightStrong:w,footerPaddingBlock:$,footerPaddingInline:F,calc:V}=e,_=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:u,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:o,background:l,pointerEvents:"auto"},[_]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${d}`,"&-hidden":{display:"none"}},[`&-left > ${_}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${_}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${_}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${_}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${se(f)} ${se(p)}`,fontSize:s,lineHeight:h,borderBottom:`${se(c)} ${y} ${S}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:V(s).add(x).equal(),height:V(s).add(x).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:b,color:R,fontWeight:w,fontSize:s,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${g}`,textRendering:"auto","&:hover":{color:I,backgroundColor:B,textDecoration:"none"},"&:active":{backgroundColor:D}},ct(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:h},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:p,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${se($)} ${se(F)}`,borderTop:`${se(c)} ${y} ${S}`},"&-rtl":{direction:"rtl"}}}},Tt=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Le=st("Drawer",e=>{const t=it(e,{});return[Pt(t),Ft(t)]},Tt);var Ke=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]]);return n};const Vt={distance:180},Me=e=>{const{rootClassName:t,width:n,height:o,size:l="default",mask:i=!0,push:d=Vt,open:g,afterOpenChange:x,onClose:f,prefixCls:p,getContainer:s,panelRef:h=null,style:c,className:y,visible:S,afterVisibleChange:b,maskStyle:R,drawerStyle:I,contentWrapperStyle:B,destroyOnClose:D,destroyOnHidden:u}=e,w=Ke(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:$,getPrefixCls:F,direction:V,className:_,style:J,classNames:M,styles:L}=Te("drawer"),N=F("drawer",p),[H,X,Y]=Le(N),W=s===void 0&&$?()=>$(document.body):s,q=T({"no-mask":!i,[`${N}-rtl`]:V==="rtl"},t,X,Y),Z=a.useMemo(()=>n??(l==="large"?736:378),[n,l]),m=a.useMemo(()=>o??(l==="large"?736:378),[o,l]),v={motionName:we(N,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},C=A=>({motionName:we(N,`panel-motion-${A}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),j=pt(),O=dt(h,j),[ie,ce]=ht("Drawer",w.zIndex),{classNames:Q={},styles:G={}}=w;return H(a.createElement(gt,{form:!0,space:!0},a.createElement(vt.Provider,{value:ce},a.createElement(Nt,Object.assign({prefixCls:N,onClose:f,maskMotion:v,motion:C},w,{classNames:{mask:T(Q.mask,M.mask),content:T(Q.content,M.content),wrapper:T(Q.wrapper,M.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},G.mask),R),L.mask),content:Object.assign(Object.assign(Object.assign({},G.content),I),L.content),wrapper:Object.assign(Object.assign(Object.assign({},G.wrapper),B),L.wrapper)},open:g??S,mask:i,push:d,width:Z,height:m,style:Object.assign(Object.assign({},J),c),className:T(_,y),rootClassName:q,getContainer:W,afterOpenChange:x??b,panelRef:O,zIndex:ie,destroyOnClose:u??D}),a.createElement(_e,Object.assign({prefixCls:N},w,{onClose:f}))))))},_t=e=>{const{prefixCls:t,style:n,className:o,placement:l="right"}=e,i=Ke(e,["prefixCls","style","className","placement"]),{getPrefixCls:d}=a.useContext(ut),g=d("drawer",t),[x,f,p]=Le(g),s=T(g,`${g}-pure`,`${g}-${l}`,f,p,o);return x(a.createElement("div",{className:s,style:n},a.createElement(_e,Object.assign({prefixCls:g},i))))};Me._InternalPanelDoNotUseOrYouWillBeFired=_t;var zt=function(t,n){return a.createElement(ue,U({},t,{ref:n,icon:xt}))},Bt=a.forwardRef(zt),Lt=function(t,n){return a.createElement(ue,U({},t,{ref:n,icon:Ae}))},He=a.forwardRef(Lt),Kt=function(t,n){return a.createElement(ue,U({},t,{ref:n,icon:Ct}))},Mt=a.forwardRef(Kt),Ht=function(t,n){return a.createElement(ue,U({},t,{ref:n,icon:Je}))},Wt=a.forwardRef(Ht);const{useToken:We}=Qe,Gt=e=>{const{options:t,value:n,defaultValue:o,onChange:l}=e,{token:i}=We(),d={backgroundColor:i.colorBgElevated,borderRadius:i.borderRadiusLG,boxShadow:i.boxShadowSecondary,padding:4,maxHeight:256,overflow:"auto"};return r.jsx("div",{style:d,children:r.jsx(je.Group,{defaultValue:o,value:n,onChange:l,children:r.jsx(de,{direction:"vertical",children:t==null?void 0:t.map((g,x)=>r.jsx(je,{value:g.value,children:g.label},x))})})})},Ut=e=>{const{placeholder:t,options:n,value:o,onChange:l,defaultValue:i,allowClear:d}=e,g=()=>{l==null||l([])},{token:x}=We(),[f,p]=a.useState(!1),s={color:o!=null&&o.length?x.colorText:x.colorTextPlaceholder,display:"flex",justifyContent:"space-between"},h={color:x.colorTextPlaceholder,cursor:"pointer"};return r.jsx(Pe,{open:f,onOpenChange:p,dropdownRender:()=>r.jsx(Gt,{options:n,defaultValue:i,value:o,onChange:l}),children:r.jsx(ne,{children:r.jsxs(de,{style:s,children:[t,d&&(o!=null&&o.length)?r.jsx(Bt,{onClick:g,style:h}):r.jsx(He,{})]})})})},Xt=e=>{const{value:t,onChange:n,options:o,placeholder:l,defaultValue:i}=e;return r.jsx(Ut,{value:t,onChange:n,options:o,placeholder:l,defaultValue:i,allowClear:!0})},Yt=e=>r.jsx(et,{...e,allowClear:!0}),qt=e=>{var p;const[t,n]=a.useState(!1),[o,l]=a.useState(),[i]=ae.useForm();a.useEffect(()=>{if(!e.value){const s=e.defaultValue||{};e.filters&&e.filters.forEach(h=>{"defaultValue"in h&&(s[h.name]=h.defaultValue)}),i.setFieldsValue(s),l(s)}},[]),a.useEffect(()=>{if(e.filters){const s={};e.filters.forEach(c=>{"value"in c&&(s[c.name]=c.value)});const h=e.filterValue?tt(e.filterValue,s):s;l(c=>({...c,...h})),i.setFieldsValue(h)}},[e.filters,e.filterValue]);const d=s=>{var h;(h=e.onChange)==null||h.call(e,s),l(s),e.autoClose&&n(!1)},g=()=>{var h;const s=i.getFieldsValue();(h=e.filters)==null||h.forEach(c=>{s[c.name]=(o==null?void 0:o[c.name])||void 0}),i.setFieldsValue(s)},x=()=>{var c,y,S;const s=i.getFieldsValue(),h=i.getFieldsValue();(c=e.filters)==null||c.forEach(b=>{!("value"in b)&&!(e.filterValue&&b.name in e.filterValue)&&(s[b.name]=void 0)}),i.setFieldsValue(s),l(b=>({...b,...s})),(y=e.filters)==null||y.forEach(b=>{h[b.name]=void 0}),(S=e.onChange)==null||S.call(e,h),e.autoClose&&n(!1)},f=s=>{n(s),s&&g()};return r.jsx(nt,{trigger:"click",arrow:!1,placement:"bottomLeft",onOpenChange:f,open:t,content:r.jsx(ae,{form:i,onFinish:d,style:{width:"calc(100vw - 72px)",maxWidth:e.maxWidth||"700px",padding:"12px"},children:e.children?e.children:r.jsxs(z,{vertical:!0,gap:24,children:[r.jsx(Ie,{gutter:[8,16],children:(p=e.filters)==null?void 0:p.map(s=>r.jsx(ve,{span:24/(e.cols||1)*(s.span||1),children:r.jsx(At,{isMobile:!0,type:s})},s.name))}),r.jsxs(z,{justify:"end",gap:14,children:[r.jsx(ne,{htmlType:"button",onClick:()=>x(),children:"Clear"}),r.jsx(ne,{type:"primary",htmlType:"submit",children:"Apply"})]})]})}),children:r.jsx(ne,{icon:e.icon,children:e.title||"Filter"})})},Zt=()=>r.jsx("div",{}),At=e=>{const{name:t,type:n,label:o,...l}=e.type,i=e.type,d=n&&Ge[n]||i.render||Zt;return r.jsxs(z,{gap:8,vertical:e.isMobile,children:[e.isMobile&&r.jsx(ye.Text,{children:o}),r.jsx(ae.Item,{name:t,noStyle:!0,children:r.jsx(d,{...l})})]})},Jt=e=>r.jsx(yt,{allowClear:!0,...e}),Ge={Select:Jt,DateRangePicker:Yt,CheckboxDropdown:Xt,Group:qt},Qt=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),t)}},Sn=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),en=({filters:e,onChange:t})=>{const[n]=ae.useForm(),{md:o}=at.useBreakpoint(),[l,i]=a.useState(!1),[d,g]=a.useState({}),x=Object.keys(d),f=x.length&&x.some(s=>d[s]!==null&&d[s]!==void 0&&d[s]!==""),p=Qt((s,h)=>{t==null||t(h,e||[]),g(h)},550);return a.useEffect(()=>{o&&i(!1)},[o]),a.useEffect(()=>{if(e){const s={};e.forEach(h=>{!("value"in h)&&"defaultValue"in h&&(s[h.name]=h.defaultValue)}),n.setFieldsValue(s)}},[e,n]),a.useEffect(()=>{if(e){const s={};e.forEach(h=>{"value"in h&&(s[h.name]=h.value)}),n.setFieldsValue(s)}},[e,n]),r.jsx(ae,{form:n,onValuesChange:p,children:r.jsxs(Ie,{children:[r.jsx(ve,{xs:0,md:24,children:r.jsx(z,{gap:8,children:e==null?void 0:e.map(s=>r.jsx(De,{isMobile:!1,type:s},s.name))})}),r.jsxs(ve,{xs:24,md:0,children:[r.jsx(ne,{type:f?"primary":void 0,onClick:()=>i(!0),icon:r.jsx(Mt,{style:{display:"inline-flex"}})}),r.jsx(Me,{title:"Filters",placement:"right",closable:!0,onClose:()=>i(!1),open:l,children:r.jsx(z,{gap:8,vertical:!0,children:e==null?void 0:e.map(s=>r.jsx(De,{isMobile:!0,type:s},s.name))})})]})]})})},tn=()=>r.jsx("div",{}),De=e=>{const{name:t,type:n,label:o,width:l,...i}=e.type;n==="Group"&&"value"in i&&(i.filterValue=i.value);const d=e.type,g=n&&Ge[n]||d.render||tn;return r.jsx(z,{vertical:e.isMobile,children:e.isMobile?r.jsxs(r.Fragment,{children:[r.jsx(ye.Text,{children:o}),r.jsx(ae.Item,{name:t,noStyle:!0,children:r.jsx(g,{...i})})]}):r.jsx(z,{style:{width:l},vertical:!0,children:r.jsx(ae.Item,{name:t,noStyle:!0,children:r.jsx(g,{...i})})})})},nn=e=>{var d;const{admiral:t}=Fe.useToken(),n=a.useRef(null),[o,l]=a.useState(e.searchValue);a.useEffect(()=>{l(e.searchValue)},[e.searchValue]);const i=g=>{l(g),n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{var x;(x=e.onSearch)==null||x.call(e,g||"")},550)};return r.jsxs(z,{gap:8,flex:1,wrap:"wrap",children:[(d=e.filters)!=null&&d.length?r.jsx(z,{flex:0,children:r.jsx(en,{onChange:e==null?void 0:e.onFiltersChange,filters:e.filters})}):null,!e.hideSearch&&r.jsx(z,{flex:1,children:r.jsx(wt,{prefix:r.jsx(Wt,{}),placeholder:e.placeholderSearch||t.DataTable.placeholderSearch||"Search",onChange:g=>{i(g.target.value)},value:o,defaultValue:e.defaultSearchValue,allowClear:!0})})]})},an=({selectedRows:e,batchActionMenus:t,setSelectedRowKeys:n,itemColor:o="#006D75",widthActionButton:l,typeActionButton:i,...d})=>{var x,f,p,s,h;const g=(c=[])=>{n==null||n(c)};return r.jsx(r.Fragment,{children:(e&&e.length>0&&t&&t.length>0||d.filters&&((x=d.filters)==null?void 0:x.length)>0||!d.hideSearch)&&r.jsxs(z,{gap:8,align:"center",wrap:"wrap",children:[e&&e.length>0&&(t==null?void 0:t.length)===1&&r.jsx(ne,{type:"primary",icon:(f=t[0])==null?void 0:f.icon,onClick:()=>{var c,y;return(y=(c=t[0])==null?void 0:c.onClick)==null?void 0:y.call(c,e,{reset:g})},disabled:(p=t[0])==null?void 0:p.disabled,className:(s=t[0])==null?void 0:s.className,children:(h=t[0])==null?void 0:h.label}),e&&e.length>0&&t&&(t==null?void 0:t.length)>1&&r.jsxs(r.Fragment,{children:[r.jsxs(de,{children:[r.jsx(Pe,{menu:{items:(t==null?void 0:t.map(c=>({...c,onClick:()=>{var y;return(y=c==null?void 0:c.onClick)==null?void 0:y.call(c,e,{reset:g})}})))||[]},placement:"bottomLeft",trigger:["click"],children:r.jsx(ne,{type:i,style:{width:l},children:r.jsxs(de,{children:["Action",r.jsx(He,{})]})})}),r.jsxs(ye.Text,{style:{color:o},children:[e.length," item selected"]})]}),r.jsx(ot,{type:"vertical",style:{padding:"14px 0px"}})]}),r.jsx(z,{flex:1,children:r.jsx(nn,{...d})})]})})},on={display:"flex",justifyContent:"end",padding:"16px 8px"},rn={width:"100%"},Ne=[10,20,50,100],Re={ascend:"ASC",descend:"DESC"},wn=e=>{var X,Y,W,q,Z;const{defaultCurrent:t,rowSelection:n,batchActionMenus:o,filterComponents:l,onChange:i,search:d,defaultSearch:g,showRowSelection:x=!0,source:f,hideSearch:p,placeholderSearch:s,itemColor:h,bodyStyle:c,widthActionButton:y,typeActionButton:S,...b}=e,[R,I]=a.useState([]),[B,D]=a.useState({}),u=a.useRef(B),{token:w,admiral:$}=Fe.useToken();a.useEffect(()=>{var C,j;if(!b.columns)return;const m=u.current.sorter||{},v=b.columns.find(O=>O.sortOrder&&!("children"in O));if(v){m.field=(C=v.dataIndex)==null?void 0:C.toString(),m.column=v,m.order=v.sortOrder?Re[v.sortOrder]:null,m.sort=(j=v.key)==null?void 0:j.toString();const O={...u.current,sorter:m};F(O)}else{const O={...u.current,sorter:void 0};F(O)}},[b.columns]),a.useEffect(()=>{var C,j,O;const m=f!=null&&f.meta?{...u.current.pagination||{},page:f.meta.page||((C=u.current.pagination)==null?void 0:C.page),per_page:f.meta.pageSize||((j=u.current.pagination)==null?void 0:j.per_page),total:f.meta.total||((O=u.current.pagination)==null?void 0:O.total)}:void 0,v={...u.current,pagination:m};F(v)},[f==null?void 0:f.meta]),a.useEffect(()=>{const m=l==null?void 0:l.reduce((C,j)=>"value"in j?{...C,[j.name]:j.value}:C,{}),v={...u.current,custom:{...u.current.custom||{},...m}};F(v)},[l]),a.useEffect(()=>{const m={...u.current,custom:{...u.current.custom||{},search:d}};F(m)},[d]);const F=m=>{D(m),u.current=m},V=({extra:m,...v})=>{F(v),i==null||i(v.custom,v.sorter,v.filters,v.pagination,m)},_=m=>{I(m)},J=(m,v)=>{const C={...u.current,pagination:{...u.current.pagination||{},page:m,per_page:v},extra:{action:"paginate",customContext:l}};V(C)},M=m=>{const v={...u.current,pagination:{...u.current.pagination||{},page:1},custom:{...u.current.custom||{},search:m},extra:{action:"custom",customContext:l}};V(v)},L=m=>{const v={...u.current,pagination:{...u.current.pagination||{},page:1},custom:{...u.current.custom||{},...m},extra:{action:"custom",customContext:l}};V(v)},N=(m,v,C)=>{const j={...u.current,filters:{...u.current.filters||{},...m},sorter:v.order?{...u.current.sorter||{},field:v.field,column:v.column,sort:String(v.columnKey),order:v.order}:{},extra:{...C,customContext:l}};V(j)},H=((X=w.Table)==null?void 0:X.headerBorderRadius)||w.borderRadius+2;return r.jsxs(z,{gap:16,vertical:!0,children:[r.jsx(an,{searchValue:d,defaultSearchValue:g,onSearch:M,hideSearch:p,selectedRows:(n==null?void 0:n.selectedRowKeys)||R,setSelectedRowKeys:I,batchActionMenus:o,filters:l,onFiltersChange:L,placeholderSearch:s,itemColor:h,widthActionButton:y,typeActionButton:S}),r.jsxs("div",{style:{overflowX:"auto",background:"white",borderRadius:`${H}px ${H}px`,...c||{}},children:[r.jsx(jt,{rowSelection:x?{onChange:_,selectedRowKeys:R,...n}:void 0,...b,dataSource:f==null?void 0:f.data,style:rn,size:"small",pagination:!1,onChange:(m,v,C,j)=>{if(Array.isArray(C))return;const O={...C,order:C.order?Re[C.order]:void 0};N(v,O,j)},rowKey:b.rowKey||"id"}),u.current.pagination&&r.jsx("div",{style:{...on,backgroundColor:w.colorBgContainer},children:r.jsx(kt,{showTotal:(m,v)=>`${v[0]}-${v[1]} of ${m} items`,defaultCurrent:t||1,showSizeChanger:!0,defaultPageSize:((Y=$==null?void 0:$.DataTable.size)==null?void 0:Y[0])||Ne[0],pageSizeOptions:($==null?void 0:$.DataTable.size)||Ne,...u.current.pagination,pageSize:((W=f==null?void 0:f.meta)==null?void 0:W.pageSize)||u.current.pagination.per_page,current:((q=f==null?void 0:f.meta)==null?void 0:q.page)||((Z=f==null?void 0:f.meta)==null?void 0:Z.current)||u.current.pagination.page,onChange:J})})]})]})},jn=e=>{var t,n,o;return!e||!e.data?{data:[],meta:{page:1,pageSize:10,total:0}}:{data:e.data.items||[],meta:{page:((t=e.data.meta)==null?void 0:t.page)||1,pageSize:((n=e.data.meta)==null?void 0:n.per_page)||10,total:((o=e.data.meta)==null?void 0:o.total)||0}}};export{an as A,wn as D,Sn as i,jn as m};
//# sourceMappingURL=data-table-Dk-TAeJX.js.map
